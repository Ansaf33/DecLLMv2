{
    "file": "KPRCA_00009",
    "decompiled_code": {
        "cpu.c": [
            {
                "func_name": "r_8b",
                "func_c_signature": "int * r_8b(int *param_1,int param_2)",
                "decompiled_code": "int * r_8b(int *param_1,int param_2) {\n  if (param_2 == 0) {\n    param_1 = (int *)((int)param_1 + 0x31);\n  }\n  else if (param_2 == 1) {\n    param_1 = param_1 + 0xc;\n  }\n  else if (param_2 == 2) {\n    param_1 = (int *)((int)param_1 + 0x33);\n  }\n  else if (param_2 == 3) {\n    param_1 = (int *)((int)param_1 + 0x32);\n  }\n  else if (param_2 == 4) {\n    param_1 = (int *)((int)param_1 + 0x35);\n  }\n  else if (param_2 == 5) {\n    param_1 = param_1 + 0xd;\n  }\n  else if (param_2 == 6) {\n    param_1 = (int *)((uint)*(ushort *)(param_1 + 0xd) + *param_1);\n  }\n  else if (param_2 == 7) {\n    param_1 = (int *)((int)param_1 + 0x2f);\n  }\n  else {\n    param_1 = (int *)0x0;\n  }\n  return param_1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "r_8b"
                    ],
                    "calling_functions": [
                        "r_8b",
                        "step_prefix",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "r_16b",
                "func_c_signature": "int r_16b(int param_1,int param_2)",
                "decompiled_code": "int r_16b(int param_1,int param_2) {\n  if (param_2 == 0) {\n    param_1 = param_1 + 0x30;\n  }\n  else if (param_2 == 1) {\n    param_1 = param_1 + 0x32;\n  }\n  else if (param_2 == 2) {\n    param_1 = param_1 + 0x34;\n  }\n  else if (param_2 == 3) {\n    param_1 = param_1 + 0x36;\n  }\n  else {\n    param_1 = 0;\n  }\n  return param_1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "r_16b"
                    ],
                    "calling_functions": [
                        "r_16b",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "flags_bitwise",
                "func_c_signature": "void flags_bitwise(int param_1,short param_2)",
                "decompiled_code": "void flags_bitwise(int param_1,short param_2) {\n  undefined uVar1;\n  \n  if (param_2 == 0) {\n    uVar1 = 0x80;\n  }\n  else {\n    uVar1 = 0;\n  }\n  *(undefined *)(param_1 + 0x2e) = uVar1;\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "flags_bitwise"
                    ],
                    "calling_functions": [
                        "flags_bitwise",
                        "step_prefix",
                        "step_misc",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "do_add_8b",
                "func_c_signature": "ushort do_add_8b(int param_1,byte param_2,byte param_3,byte param_4)",
                "decompiled_code": "ushort do_add_8b(int param_1,byte param_2,byte param_3,byte param_4) {\n  ushort uVar1;\n  \n  uVar1 = (ushort)param_4 + (ushort)param_2 + (ushort)param_3;\n  *(undefined *)(param_1 + 0x2e) = 0;\n  if ((char)uVar1 == '\\0') {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x80;\n  }\n  if (0xff < uVar1) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x10;\n  }\n  if (((param_3 & 0xf) + (param_2 & 0xf) & 0x10) != 0) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x20;\n  }\n  if (((param_4 & 0xf) + (param_3 + param_2 & 0xf) & 0x10) != 0) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x20;\n  }\n  return uVar1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "do_add_8b"
                    ],
                    "calling_functions": [
                        "do_add_8b",
                        "step_misc",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "do_add_16b",
                "func_c_signature": "uint do_add_16b(int param_1,ushort param_2,ushort param_3,byte param_4)",
                "decompiled_code": "uint do_add_16b(int param_1,ushort param_2,ushort param_3,byte param_4) {\n  uint uVar1;\n  \n  uVar1 = (uint)param_4 + (uint)param_2 + (uint)param_3;\n  *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) & 0x8f;\n  if (0xffff < uVar1) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x10;\n  }\n  if (((param_3 & 0xfff) + (param_2 & 0xfff) & 0x1000) != 0) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x20;\n  }\n  return uVar1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "do_add_16b"
                    ],
                    "calling_functions": [
                        "do_add_16b",
                        "step_misc",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "do_sub_8b",
                "func_c_signature": "ushort do_sub_8b(int param_1,byte param_2,byte param_3,byte param_4)",
                "decompiled_code": "ushort do_sub_8b(int param_1,byte param_2,byte param_3,byte param_4) {\n  ushort uVar1;\n  \n  uVar1 = ((ushort)param_2 - (ushort)param_3) - (ushort)param_4;\n  *(undefined *)(param_1 + 0x2e) = 0x40;\n  if ((char)uVar1 == '\\0') {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x80;\n  }\n  if (0xff < uVar1) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x10;\n  }\n  if (((param_2 & 0xf) - (param_3 & 0xf) & 0x10) != 0) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x20;\n  }\n  if (((param_2 - param_3 & 0xf) - (param_4 & 0xf) & 0x10) != 0) {\n    *(byte *)(param_1 + 0x2e) = *(byte *)(param_1 + 0x2e) | 0x20;\n  }\n  return uVar1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "do_sub_8b"
                    ],
                    "calling_functions": [
                        "do_sub_8b",
                        "step_misc",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "do_call",
                "func_c_signature": "void do_call(int *param_1,undefined2 param_2)",
                "decompiled_code": "void do_call(int *param_1,undefined2 param_2) {\n  *(short *)((int)param_1 + 0x36) = *(short *)((int)param_1 + 0x36) + -2;\n  *(undefined2 *)(*param_1 + (uint)*(ushort *)((int)param_1 + 0x36)) =\n       *(undefined2 *)(param_1 + 0xe);\n  *(undefined2 *)(param_1 + 0xe) = param_2;\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "do_call"
                    ],
                    "calling_functions": [
                        "do_call",
                        "step_misc",
                        "step",
                        "do_interrupt"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "do_ret",
                "func_c_signature": "void do_ret(int *param_1)",
                "decompiled_code": "void do_ret(int *param_1) {\n  *(undefined2 *)(param_1 + 0xe) =\n       *(undefined2 *)((uint)*(ushort *)((int)param_1 + 0x36) + *param_1);\n  *(short *)((int)param_1 + 0x36) = *(short *)((int)param_1 + 0x36) + 2;\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "do_ret"
                    ],
                    "calling_functions": [
                        "do_ret",
                        "step_misc"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "step_prefix",
                "func_c_signature": "undefined4 step_prefix(int *param_1)",
                "decompiled_code": "undefined4 step_prefix(int *param_1) {\n  byte bVar1;\n  byte bVar2;\n  byte *pbVar3;\n  undefined4 uVar4;\n  byte bVar5;\n  \n  bVar1 = *(byte *)((uint)*(ushort *)(param_1 + 0xe) + *param_1 + 1);\n  pbVar3 = (byte *)r_8b(param_1,bVar1 & 7);\n  bVar5 = (byte)((int)(uint)bVar1 >> 3) & 7;\n  bVar2 = *pbVar3;\n  if ((bVar1 & 0xf8) == 0) {\n    *pbVar3 = -((char)bVar2 >> 7) | bVar2 * '\\x02';\n    flags_bitwise(param_1,*pbVar3);\n    if ((byte)-((char)bVar2 >> 7) != 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xf8) == 8) {\n    *pbVar3 = (byte)((bVar2 & 1) << 7) | bVar2 >> 1;\n    flags_bitwise(param_1,*pbVar3);\n    if ((bVar2 & 1) != 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xf8) == 0x10) {\n    *pbVar3 = (*(byte *)((int)param_1 + 0x2e) & 0x10) != 0 | bVar2 * '\\x02';\n    flags_bitwise(param_1,*pbVar3);\n    if ((char)bVar2 < '\\0') {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xf8) == 0x18) {\n    *pbVar3 = (byte)((*(byte *)((int)param_1 + 0x2e) & 0x1ffffff0) << 3) | bVar2 >> 1;\n    flags_bitwise(param_1,*pbVar3);\n    if ((bVar2 & 1) != 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xf8) == 0x20) {\n    *pbVar3 = bVar2 * '\\x02';\n    flags_bitwise(param_1,*pbVar3);\n    if ((char)bVar2 < '\\0') {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xf8) == 0x28) {\n    *pbVar3 = bVar2 & 0x80 | bVar2 >> 1;\n    flags_bitwise(param_1,*pbVar3);\n    if ((bVar2 & 1) != 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xf8) == 0x30) {\n    *pbVar3 = bVar2 >> 4 | bVar2 << 4;\n    flags_bitwise(param_1,*pbVar3);\n  }\n  else if ((bVar1 & 0xf8) == 0x38) {\n    *pbVar3 = bVar2 >> 1;\n    flags_bitwise(param_1,*pbVar3);\n    if ((bVar2 & 1) != 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n  }\n  else if ((bVar1 & 0xc0) == 0x40) {\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x3f;\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x20;\n    if (((int)(uint)bVar2 >> bVar5 & 1U) == 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x80;\n    }\n  }\n  else if ((bVar1 & 0xc0) == 0x80) {\n    *pbVar3 = bVar2 & ~(byte)(1 << bVar5);\n  }\n  else {\n    if ((bVar1 & 0xc0) != 0xc0) {\n      printf(\"Invalid prefix opcode\\n\");\n      return 0;\n    }\n    *pbVar3 = bVar2 | (byte)(1 << bVar5);\n  }\n  *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n  if ((bVar1 & 7) == 6) {\n    uVar4 = 0x10;\n  }\n  else {\n    uVar4 = 8;\n  }\n  return uVar4;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "step_prefix",
                        "r_8b",
                        "flags_bitwise",
                        "printf"
                    ],
                    "calling_functions": [
                        "step_prefix",
                        "step_misc"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "step_misc",
                "func_c_signature": "undefined4 step_misc(int *param_1)",
                "decompiled_code": "undefined4 step_misc(int *param_1) {\n  char cVar1;\n  byte bVar2;\n  undefined uVar3;\n  undefined2 uVar4;\n  undefined4 uVar5;\n  undefined *puVar6;\n  byte local_d;\n  \n  puVar6 = (undefined *)((uint)*(ushort *)(param_1 + 0xe) + *param_1);\n  switch(*puVar6) {\n  case 0:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  default:\n    uVar5 = 0;\n    break;\n  case 7:\n    bVar2 = -(*(char *)((int)param_1 + 0x2f) >> 7);\n    *(byte *)((int)param_1 + 0x2f) = bVar2 | *(char *)((int)param_1 + 0x2f) * '\\x02';\n    *(undefined *)((int)param_1 + 0x2e) = 0;\n    if (bVar2 == 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0xef;\n    }\n    else {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 8:\n    *(undefined2 *)(*param_1 + (uint)*(ushort *)(puVar6 + 1)) = *(undefined2 *)((int)param_1 + 0x36)\n    ;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    uVar5 = 0x14;\n    break;\n  case 0xf:\n    bVar2 = *(byte *)((int)param_1 + 0x2f);\n    *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) >> 1 | (byte)((bVar2 & 1) << 7);\n    *(undefined *)((int)param_1 + 0x2e) = 0;\n    if ((bVar2 & 1) == 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0xef;\n    }\n    else {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x10:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 0;\n    break;\n  case 0x17:\n    cVar1 = *(char *)((int)param_1 + 0x2f);\n    *(char *)((int)param_1 + 0x2f) =\n         (*(byte *)((int)param_1 + 0x2e) & 0x10) != 0 | *(char *)((int)param_1 + 0x2f) * '\\x02';\n    *(undefined *)((int)param_1 + 0x2e) = 0;\n    if (cVar1 < '\\0') {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n    else {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0xef;\n    }\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x18:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + (short)(char)puVar6[1];\n    uVar5 = 0xc;\n    break;\n  case 0x1f:\n    bVar2 = *(byte *)((int)param_1 + 0x2f);\n    *(byte *)((int)param_1 + 0x2f) =\n         *(byte *)((int)param_1 + 0x2f) >> 1 |\n         (byte)((*(byte *)((int)param_1 + 0x2e) & 0x1ffffff0) << 3);\n    *(undefined *)((int)param_1 + 0x2e) = 0;\n    if ((bVar2 & 1) == 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0xef;\n    }\n    else {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x20:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      uVar5 = 8;\n    }\n    else {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + (short)(char)puVar6[1];\n      uVar5 = 0xc;\n    }\n    break;\n  case 0x27:\n    local_d = 0;\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x40) == 0) {\n      if ((0x99 < *(byte *)((int)param_1 + 0x2f)) || ((*(byte *)((int)param_1 + 0x2e) & 0x10) != 0))\n      {\n        local_d = 0x60;\n        *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n      }\n      if ((9 < (*(byte *)((int)param_1 + 0x2f) & 0xf)) ||\n         ((*(byte *)((int)param_1 + 0x2e) & 0x20) != 0)) {\n        local_d = local_d | 6;\n      }\n      *(byte *)((int)param_1 + 0x2f) = *(char *)((int)param_1 + 0x2f) + local_d;\n    }\n    else {\n      if ((*(byte *)((int)param_1 + 0x2e) & 0x20) != 0) {\n        *(char *)((int)param_1 + 0x2f) = *(char *)((int)param_1 + 0x2f) + -6;\n      }\n      if ((*(byte *)((int)param_1 + 0x2e) & 0x10) != 0) {\n        *(char *)((int)param_1 + 0x2f) = *(char *)((int)param_1 + 0x2f) + -0x60;\n      }\n    }\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x5f;\n    if (*(char *)((int)param_1 + 0x2f) == '\\0') {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x80;\n    }\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x28:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + (short)(char)puVar6[1];\n      uVar5 = 0xc;\n    }\n    else {\n      uVar5 = 8;\n    }\n    break;\n  case 0x2f:\n    *(byte *)((int)param_1 + 0x2f) = ~*(byte *)((int)param_1 + 0x2f);\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x60;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x30:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + (short)(char)puVar6[1];\n      uVar5 = 0xc;\n    }\n    else {\n      uVar5 = 8;\n    }\n    break;\n  case 0x37:\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x9f;\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x38:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      uVar5 = 8;\n    }\n    else {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + (short)(char)puVar6[1];\n      uVar5 = 0xc;\n    }\n    break;\n  case 0x3f:\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x9f;\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x10;\n    }\n    else {\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0xef;\n    }\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0x76:\n    param_1[0xf] = 1;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0xc0:\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      uVar5 = 8;\n    }\n    else {\n      do_ret(param_1);\n      uVar5 = 0x10;\n    }\n    break;\n  case 0xc2:\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n      uVar5 = 0xc;\n    }\n    else {\n      *(undefined2 *)(param_1 + 0xe) = *(undefined2 *)(puVar6 + 1);\n      uVar5 = 0x10;\n    }\n    break;\n  case 0xc3:\n    *(undefined2 *)(param_1 + 0xe) = *(undefined2 *)(puVar6 + 1);\n    uVar5 = 0x10;\n    break;\n  case 0xc4:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      uVar5 = 0xc;\n    }\n    else {\n      do_call(param_1,*(undefined2 *)(puVar6 + 1));\n      uVar5 = 0x18;\n    }\n    break;\n  case 0xc6:\n    uVar3 = do_add_8b(param_1,*(undefined *)((int)param_1 + 0x2f),puVar6[1],0);\n    *(undefined *)((int)param_1 + 0x2f) = uVar3;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 200:\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      do_ret(param_1);\n      uVar5 = 0x10;\n    }\n    else {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      uVar5 = 8;\n    }\n    break;\n  case 0xc9:\n    do_ret(param_1);\n    uVar5 = 0x10;\n    break;\n  case 0xca:\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      *(undefined2 *)(param_1 + 0xe) = *(undefined2 *)(puVar6 + 1);\n      uVar5 = 0x10;\n    }\n    else {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n      uVar5 = 0xc;\n    }\n    break;\n  case 0xcb:\n    uVar5 = step_prefix(param_1);\n    break;\n  case 0xcc:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    if (*(char *)((int)param_1 + 0x2e) < '\\0') {\n      do_call(param_1,*(undefined2 *)(puVar6 + 1));\n      uVar5 = 0x18;\n    }\n    else {\n      uVar5 = 0xc;\n    }\n    break;\n  case 0xcd:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    do_call(param_1,*(undefined2 *)(puVar6 + 1));\n    uVar5 = 0x18;\n    break;\n  case 0xce:\n    uVar3 = do_add_8b(param_1,*(undefined *)((int)param_1 + 0x2f),puVar6[1],\n                      (*(byte *)((int)param_1 + 0x2e) & 0x10) != 0);\n    *(undefined *)((int)param_1 + 0x2f) = uVar3;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 0xd0:\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      do_ret(param_1);\n      uVar5 = 0x10;\n    }\n    else {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      uVar5 = 8;\n    }\n    break;\n  case 0xd2:\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      *(undefined2 *)(param_1 + 0xe) = *(undefined2 *)(puVar6 + 1);\n      uVar5 = 0x10;\n    }\n    else {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n      uVar5 = 0xc;\n    }\n    break;\n  case 0xd4:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      do_call(param_1,*(undefined2 *)(puVar6 + 1));\n      uVar5 = 0x18;\n    }\n    else {\n      uVar5 = 0xc;\n    }\n    break;\n  case 0xd6:\n    uVar3 = do_sub_8b(param_1,*(undefined *)((int)param_1 + 0x2f),puVar6[1],0);\n    *(undefined *)((int)param_1 + 0x2f) = uVar3;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 0xd8:\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      uVar5 = 8;\n    }\n    else {\n      do_ret(param_1);\n      uVar5 = 0x10;\n    }\n    break;\n  case 0xd9:\n    do_ret(param_1);\n    *(undefined *)((int)param_1 + 0x3a) = 1;\n    uVar5 = 0x10;\n    break;\n  case 0xda:\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n      uVar5 = 0xc;\n    }\n    else {\n      *(undefined2 *)(param_1 + 0xe) = *(undefined2 *)(puVar6 + 1);\n      uVar5 = 0x10;\n    }\n    break;\n  case 0xdc:\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    if ((*(byte *)((int)param_1 + 0x2e) & 0x10) == 0) {\n      uVar5 = 0xc;\n    }\n    else {\n      do_call(param_1,*(undefined2 *)(puVar6 + 1));\n      uVar5 = 0x18;\n    }\n    break;\n  case 0xde:\n    uVar3 = do_sub_8b(param_1,*(undefined *)((int)param_1 + 0x2f),puVar6[1],\n                      (*(byte *)((int)param_1 + 0x2e) & 0x10) != 0);\n    *(undefined *)((int)param_1 + 0x2f) = uVar3;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 0xe0:\n    *(undefined *)((uint)CONCAT11(0xff,puVar6[1]) + *param_1) = *(undefined *)((int)param_1 + 0x2f);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 0xc;\n    break;\n  case 0xe2:\n    *(undefined *)(*param_1 + (uint)CONCAT11(0xff,*(undefined *)(param_1 + 0xc))) =\n         *(undefined *)((int)param_1 + 0x2f);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 8;\n    break;\n  case 0xe6:\n    *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) & puVar6[1];\n    flags_bitwise(param_1,*(undefined *)((int)param_1 + 0x2f));\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x20;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 0xe8:\n    uVar4 = do_add_16b(param_1,*(undefined2 *)((int)param_1 + 0x36),(short)(char)puVar6[1],0);\n    *(undefined2 *)((int)param_1 + 0x36) = uVar4;\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x7f;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 0x10;\n    break;\n  case 0xe9:\n    *(undefined2 *)(param_1 + 0xe) = *(undefined2 *)(param_1 + 0xd);\n    uVar5 = 4;\n    break;\n  case 0xea:\n    *(undefined *)(*param_1 + (uint)*(ushort *)(puVar6 + 1)) = *(undefined *)((int)param_1 + 0x2f);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    uVar5 = 0x10;\n    break;\n  case 0xee:\n    *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) ^ puVar6[1];\n    flags_bitwise(param_1,*(undefined *)((int)param_1 + 0x2f));\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 0xf0:\n    *(undefined *)((int)param_1 + 0x2f) = *(undefined *)(*param_1 + (uint)CONCAT11(0xff,puVar6[1]));\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 0xc;\n    break;\n  case 0xf2:\n    *(undefined *)((int)param_1 + 0x2f) =\n         *(undefined *)((uint)CONCAT11(0xff,*(undefined *)(param_1 + 0xc)) + *param_1);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 8;\n    break;\n  case 0xf3:\n    *(byte *)((int)param_1 + 0x3a) = *(byte *)((int)param_1 + 0x3a) | 0xc0;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0xf6:\n    *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) | puVar6[1];\n    flags_bitwise(param_1,*(undefined *)((int)param_1 + 0x2f));\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n    break;\n  case 0xf8:\n    uVar4 = do_add_16b(param_1,*(undefined2 *)((int)param_1 + 0x36),(short)(char)puVar6[1],0);\n    *(undefined2 *)(param_1 + 0xd) = uVar4;\n    *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x7f;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 0xc;\n    break;\n  case 0xf9:\n    *(undefined2 *)((int)param_1 + 0x36) = *(undefined2 *)(param_1 + 0xd);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 8;\n    break;\n  case 0xfa:\n    *(undefined *)((int)param_1 + 0x2f) = *(undefined *)((uint)*(ushort *)(puVar6 + 1) + *param_1);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n    uVar5 = 0x10;\n    break;\n  case 0xfb:\n    *(byte *)((int)param_1 + 0x3a) = *(byte *)((int)param_1 + 0x3a) | 0xa0;\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n    uVar5 = 4;\n    break;\n  case 0xfe:\n    do_sub_8b(param_1,*(undefined *)((int)param_1 + 0x2f),puVar6[1],0);\n    *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n    uVar5 = 8;\n  }\n  return uVar5;\n}",
                "globals": [],
                "externs": [
                    "CONCAT11"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "step_misc",
                        "do_ret",
                        "do_call",
                        "do_add_8b",
                        "step_prefix",
                        "do_sub_8b",
                        "CONCAT11",
                        "flags_bitwise",
                        "do_add_16b"
                    ],
                    "calling_functions": [
                        "step_misc",
                        "step"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "step",
                "func_c_signature": "int step(int *param_1)",
                "decompiled_code": "int step(int *param_1) {\n  byte bVar1;\n  byte bVar2;\n  undefined uVar3;\n  undefined2 uVar4;\n  byte *pbVar5;\n  int iVar6;\n  byte *pbVar7;\n  undefined2 *puVar8;\n  short *psVar9;\n  undefined *puVar10;\n  undefined *puVar11;\n  undefined2 *local_18;\n  undefined2 *local_14;\n  int *local_10;\n  \n  pbVar5 = (byte *)((uint)*(ushort *)(param_1 + 0xe) + *param_1);\n  bVar2 = *pbVar5;\n  iVar6 = step_misc(param_1);\n  if (iVar6 != 0) {\n    return iVar6;\n  }\n  if ((bVar2 & 199) != 2) {\n    if ((bVar2 & 199) == 4) {\n      bVar1 = (byte)((int)(uint)bVar2 >> 3) & 7;\n      pbVar5 = (byte *)r_8b(param_1,bVar1);\n      bVar2 = *pbVar5;\n      *pbVar5 = *pbVar5 + 1;\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x1f;\n      if (*pbVar5 == 0) {\n        *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x80;\n      }\n      if (((*pbVar5 ^ bVar2) & 0xf0) != 0) {\n        *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x20;\n      }\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if (bVar1 == 6) {\n        return 0xc;\n      }\n      return 4;\n    }\n    if ((bVar2 & 199) == 5) {\n      bVar1 = (byte)((int)(uint)bVar2 >> 3) & 7;\n      pbVar5 = (byte *)r_8b(param_1,bVar1);\n      bVar2 = *pbVar5;\n      *pbVar5 = *pbVar5 - 1;\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0x1f;\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x40;\n      if (*pbVar5 == 0) {\n        *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x80;\n      }\n      if (((*pbVar5 ^ bVar2) & 0xf0) != 0) {\n        *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x20;\n      }\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if (bVar1 == 6) {\n        return 0xc;\n      }\n      return 4;\n    }\n    if ((bVar2 & 199) == 6) {\n      bVar2 = (byte)((int)(uint)bVar2 >> 3) & 7;\n      pbVar7 = (byte *)r_8b(param_1,bVar2);\n      *pbVar7 = pbVar5[1];\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 2;\n      if (bVar2 == 6) {\n        return 0xc;\n      }\n      return 8;\n    }\n    if ((bVar2 & 0xcf) == 1) {\n      puVar8 = (undefined2 *)r_16b(param_1,(byte)((int)(uint)bVar2 >> 4) & 3);\n      *puVar8 = *(undefined2 *)(pbVar5 + 1);\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 3;\n      return 0xc;\n    }\n    if ((bVar2 & 0xcf) == 3) {\n      psVar9 = (short *)r_16b(param_1,(byte)((int)(uint)bVar2 >> 4) & 3);\n      *psVar9 = *psVar9 + 1;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      return 8;\n    }\n    if ((bVar2 & 0xcf) == 9) {\n      puVar8 = (undefined2 *)r_16b(param_1,(byte)((int)(uint)bVar2 >> 4) & 3);\n      uVar4 = do_add_16b(param_1,*(undefined2 *)(param_1 + 0xd),*puVar8,0);\n      *(undefined2 *)(param_1 + 0xd) = uVar4;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      return 8;\n    }\n    if ((bVar2 & 0xcf) == 0xb) {\n      psVar9 = (short *)r_16b(param_1,(byte)((int)(uint)bVar2 >> 4) & 3);\n      *psVar9 = *psVar9 + -1;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      return 8;\n    }\n    if ((bVar2 & 0xc0) == 0x40) {\n      bVar1 = (byte)((int)(uint)bVar2 >> 3) & 7;\n      puVar10 = (undefined *)r_8b(param_1,bVar2 & 7);\n      puVar11 = (undefined *)r_8b(param_1,bVar1);\n      *puVar11 = *puVar10;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if (((bVar2 & 7) != 6) && (bVar1 != 6)) {\n        return 4;\n      }\n      return 8;\n    }\n    if ((bVar2 & 0xf8) == 0x80) {\n      puVar10 = (undefined *)r_8b(param_1,bVar2 & 7);\n      uVar3 = do_add_8b(param_1,*(undefined *)((int)param_1 + 0x2f),*puVar10,0);\n      *(undefined *)((int)param_1 + 0x2f) = uVar3;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0x88) {\n      puVar10 = (undefined *)r_8b(param_1,bVar2 & 7);\n      uVar3 = do_add_8b(param_1,*(undefined *)((int)param_1 + 0x2f),*puVar10,\n                        (*(byte *)((int)param_1 + 0x2e) & 0x10) != 0);\n      *(undefined *)((int)param_1 + 0x2f) = uVar3;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0x90) {\n      puVar10 = (undefined *)r_8b(param_1,bVar2 & 7);\n      uVar3 = do_sub_8b(param_1,*(undefined *)((int)param_1 + 0x2f),*puVar10,0);\n      *(undefined *)((int)param_1 + 0x2f) = uVar3;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0x98) {\n      puVar10 = (undefined *)r_8b(param_1,bVar2 & 7);\n      uVar3 = do_sub_8b(param_1,*(undefined *)((int)param_1 + 0x2f),*puVar10,\n                        (*(byte *)((int)param_1 + 0x2e) & 0x10) != 0);\n      *(undefined *)((int)param_1 + 0x2f) = uVar3;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0xa0) {\n      pbVar5 = (byte *)r_8b(param_1,bVar2 & 7);\n      *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) & *pbVar5;\n      flags_bitwise(param_1,*(undefined *)((int)param_1 + 0x2f));\n      *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) | 0x20;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0xa8) {\n      pbVar5 = (byte *)r_8b(param_1,bVar2 & 7);\n      *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) ^ *pbVar5;\n      flags_bitwise(param_1,*(undefined *)((int)param_1 + 0x2f));\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0xb0) {\n      pbVar5 = (byte *)r_8b(param_1,bVar2 & 7);\n      *(byte *)((int)param_1 + 0x2f) = *(byte *)((int)param_1 + 0x2f) | *pbVar5;\n      flags_bitwise(param_1,*(undefined *)((int)param_1 + 0x2f));\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 0xf8) == 0xb8) {\n      puVar10 = (undefined *)r_8b(param_1,bVar2 & 7);\n      do_sub_8b(param_1,*(undefined *)((int)param_1 + 0x2f),*puVar10,0);\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      if ((bVar2 & 7) == 6) {\n        return 8;\n      }\n      return 4;\n    }\n    if ((bVar2 & 199) == 199) {\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      do_call(param_1,bVar2 & 0x38);\n      return 0x10;\n    }\n    if ((bVar2 & 0xcf) == 0xc1) {\n      bVar2 = (byte)((int)(uint)bVar2 >> 4) & 3;\n      if (bVar2 == 3) {\n        local_14 = (undefined2 *)((int)param_1 + 0x2e);\n      }\n      else {\n        local_14 = (undefined2 *)r_16b(param_1,bVar2);\n      }\n      *local_14 = *(undefined2 *)((uint)*(ushort *)((int)param_1 + 0x36) + *param_1);\n      if (bVar2 == 3) {\n        *(byte *)((int)param_1 + 0x2e) = *(byte *)((int)param_1 + 0x2e) & 0xf0;\n      }\n      *(short *)((int)param_1 + 0x36) = *(short *)((int)param_1 + 0x36) + 2;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      return 0x10;\n    }\n    if ((bVar2 & 0xcf) == 0xc5) {\n      bVar2 = (byte)((int)(uint)bVar2 >> 4) & 3;\n      if (bVar2 == 3) {\n        local_18 = (undefined2 *)((int)param_1 + 0x2e);\n      }\n      else {\n        local_18 = (undefined2 *)r_16b(param_1,bVar2);\n      }\n      *(short *)((int)param_1 + 0x36) = *(short *)((int)param_1 + 0x36) + -2;\n      *(undefined2 *)(*param_1 + (uint)*(ushort *)((int)param_1 + 0x36)) = *local_18;\n      *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n      return 0x10;\n    }\n    printf(\"Invalid opcode %02X\\n\",(uint)bVar2);\n    return 0;\n  }\n  bVar1 = bVar2 & 0x30;\n  if (bVar1 != 0x30) {\n    if (0x30 < bVar1) goto LAB_00012837;\n    if (bVar1 != 0x20) {\n      if (bVar1 < 0x21) {\n        if ((bVar2 & 0x30) == 0) {\n          local_10 = param_1 + 0xc;\n        }\n        else if (bVar1 == 0x10) {\n          local_10 = (int *)((int)param_1 + 0x32);\n        }\n      }\n      goto LAB_00012837;\n    }\n  }\n  local_10 = param_1 + 0xd;\nLAB_00012837:\n  if ((bVar2 & 8) == 0) {\n    *(undefined *)(*param_1 + (uint)*(ushort *)local_10) = *(undefined *)((int)param_1 + 0x2f);\n  }\n  else {\n    *(undefined *)((int)param_1 + 0x2f) = *(undefined *)((uint)*(ushort *)local_10 + *param_1);\n  }\n  if ((bVar2 & 0x30) == 0x20) {\n    *(short *)(param_1 + 0xd) = *(short *)(param_1 + 0xd) + 1;\n  }\n  else if ((bVar2 & 0x30) == 0x30) {\n    *(short *)(param_1 + 0xd) = *(short *)(param_1 + 0xd) + -1;\n  }\n  *(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;\n  return 8;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "step",
                        "step_misc",
                        "r_8b",
                        "r_16b",
                        "do_add_16b",
                        "do_add_8b",
                        "do_sub_8b",
                        "flags_bitwise",
                        "do_call",
                        "printf"
                    ],
                    "calling_functions": [
                        "step",
                        "cpu_tick"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "cpu_interrupt",
                "func_c_signature": "void cpu_interrupt(int *param_1,byte param_2)",
                "decompiled_code": "void cpu_interrupt(int *param_1,byte param_2) {\n  *(byte *)(*param_1 + 0xff0f) = *(byte *)(*param_1 + 0xff0f) | (byte)(1 << (param_2 & 0x1f));\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "cpu_interrupt"
                    ],
                    "calling_functions": [
                        "cpu_interrupt",
                        "gb_tick",
                        "lcd_tick"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "do_interrupt",
                "func_c_signature": "void do_interrupt(int *param_1,short param_2)",
                "decompiled_code": "void do_interrupt(int *param_1,short param_2) {\n  *(byte *)(*param_1 + 0xff0f) = *(byte *)(*param_1 + 0xff0f) & ~(byte)(1 << ((byte)param_2 & 0x1f))\n  ;\n  *(undefined *)((int)param_1 + 0x3a) = 0;\n  do_call(param_1,(param_2 + 8) * 8);\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "do_interrupt",
                        "do_call"
                    ],
                    "calling_functions": [
                        "do_interrupt",
                        "check_interrupts"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "check_interrupts",
                "func_c_signature": "void check_interrupts(int *param_1)",
                "decompiled_code": "void check_interrupts(int *param_1) {\n  byte bVar1;\n  \n  bVar1 = *(byte *)(*param_1 + 0xff0f) & *(byte *)(*param_1 + 0xffff);\n  if (bVar1 != 0) {\n    param_1[0xf] = 0;\n  }\n  if ((*(byte *)((int)param_1 + 0x3a) & 1) != 0) {\n    if ((bVar1 & 1) == 0) {\n      if ((bVar1 & 2) == 0) {\n        if ((bVar1 & 4) == 0) {\n          if ((bVar1 & 8) == 0) {\n            if ((bVar1 & 0x10) != 0) {\n              do_interrupt(param_1,4);\n            }\n          }\n          else {\n            do_interrupt(param_1,3);\n          }\n        }\n        else {\n          do_interrupt(param_1,2);\n        }\n      }\n      else {\n        do_interrupt(param_1,1);\n      }\n    }\n    else {\n      do_interrupt(param_1,0);\n    }\n  }\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "check_interrupts",
                        "do_interrupt"
                    ],
                    "calling_functions": [
                        "check_interrupts",
                        "cpu_tick"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "cpu_tick",
                "func_c_signature": "undefined4 cpu_tick(int param_1)",
                "decompiled_code": "undefined4 cpu_tick(int param_1) {\n  int iVar1;\n  \n  if (*(char *)(param_1 + 0x3a) < '\\0') {\n    *(byte *)(param_1 + 0x3a) = *(byte *)(param_1 + 0x3a) & 0x7f;\n  }\n  else {\n    if ((*(byte *)(param_1 + 0x3a) & 0x40) != 0) {\n      *(byte *)(param_1 + 0x3a) = *(byte *)(param_1 + 0x3a) & 0xfe;\n    }\n    if ((*(byte *)(param_1 + 0x3a) & 0x20) != 0) {\n      *(byte *)(param_1 + 0x3a) = *(byte *)(param_1 + 0x3a) | 1;\n    }\n    *(byte *)(param_1 + 0x3a) = *(byte *)(param_1 + 0x3a) & 0x9f;\n  }\n  check_interrupts(param_1);\n  if (*(uint *)(param_1 + 0x4c) < 2) {\n    if (*(int *)(param_1 + 0x3c) == 0) {\n      iVar1 = step(param_1);\n      if (iVar1 == 0) {\n        return 0;\n      }\n      if (iVar1 < 0) {\n        iVar1 = iVar1 + 3;\n      }\n      *(int *)(param_1 + 0x4c) = iVar1 >> 2;\n    }\n  }\n  else {\n    *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + -1;\n  }\n  return 1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "cpu_tick",
                        "check_interrupts",
                        "step"
                    ],
                    "calling_functions": [
                        "cpu_tick",
                        "gb_tick"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            }
        ],
        "gb.c": [
            {
                "func_name": "gb_init",
                "func_c_signature": "undefined4 gb_init(undefined4 *param_1)",
                "decompiled_code": "undefined4 gb_init(undefined4 *param_1) {\n  int iVar1;\n  undefined4 uVar2;\n  \n  uVar2 = 0x13918;\n  iVar1 = allocate(0x10001,0,param_1,0x13918);\n  if (iVar1 == 0) {\n    param_1[1] = *param_1;\n    iVar1 = allocate(0x5a00,0,param_1 + 7,uVar2);\n    if (iVar1 == 0) {\n      iVar1 = allocate(0x10000,0,param_1 + 6,uVar2);\n      if (iVar1 == 0) {\n        uVar2 = 1;\n      }\n      else {\n        uVar2 = 0;\n      }\n    }\n    else {\n      uVar2 = 0;\n    }\n  }\n  else {\n    uVar2 = 0;\n  }\n  return uVar2;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "gb_init",
                        "allocate"
                    ],
                    "calling_functions": [
                        "gb_init",
                        "gb_new"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "gb_reset",
                "func_c_signature": "void gb_reset(int *param_1)",
                "decompiled_code": "void gb_reset(int *param_1) {\n  *(undefined2 *)((int)param_1 + 0x2e) = 0x1b0;\n  *(undefined2 *)(param_1 + 0xc) = 0x13;\n  *(undefined2 *)((int)param_1 + 0x32) = 0xd8;\n  *(undefined2 *)(param_1 + 0xd) = 0x14d;\n  *(undefined2 *)((int)param_1 + 0x36) = 0xfffe;\n  *(undefined2 *)(param_1 + 0xe) = 0x100;\n  *(undefined *)(*param_1 + 0xff05) = 0;\n  *(undefined *)(*param_1 + 0xff06) = 0;\n  *(undefined *)(*param_1 + 0xff07) = 0;\n  *(undefined *)(*param_1 + 0xff10) = 0x80;\n  *(undefined *)(*param_1 + 0xff11) = 0xbf;\n  *(undefined *)(*param_1 + 0xff12) = 0xf3;\n  *(undefined *)(*param_1 + 0xff14) = 0xbf;\n  *(undefined *)(*param_1 + 0xff16) = 0x3f;\n  *(undefined *)(*param_1 + 0xff17) = 0;\n  *(undefined *)(*param_1 + 0xff19) = 0xbf;\n  *(undefined *)(*param_1 + 0xff1a) = 0x7f;\n  *(undefined *)(*param_1 + 0xff1b) = 0xff;\n  *(undefined *)(*param_1 + 0xff1c) = 0x9f;\n  *(undefined *)(*param_1 + 0xff1d) = 0xbf;\n  *(undefined *)(*param_1 + 0xff20) = 0xff;\n  *(undefined *)(*param_1 + 0xff21) = 0;\n  *(undefined *)(*param_1 + 0xff22) = 0;\n  *(undefined *)(*param_1 + 0xff23) = 0xbf;\n  *(undefined *)(*param_1 + 0xff24) = 0x77;\n  *(undefined *)(*param_1 + 0xff25) = 0xf3;\n  *(undefined *)(*param_1 + 0xff26) = 0xf1;\n  *(undefined *)(*param_1 + 0xff40) = 0x90;\n  *(undefined *)(*param_1 + 0xff42) = 0;\n  *(undefined *)(*param_1 + 0xff43) = 0;\n  *(undefined *)(*param_1 + 0xff45) = 0;\n  *(undefined *)(*param_1 + 0xff47) = 0xfc;\n  *(undefined *)(*param_1 + 0xff48) = 0xff;\n  *(undefined *)(*param_1 + 0xff49) = 0xff;\n  *(undefined *)(*param_1 + 0xff4a) = 0;\n  *(undefined *)(*param_1 + 0xff4b) = 0;\n  *(undefined *)(*param_1 + 0xffff) = 0;\n  *(undefined *)(*param_1 + 0xff46) = 0xff;\n  param_1[0x12] = 0;\n  param_1[0x14] = 0;\n  param_1[0x15] = 0;\n  param_1[0x16] = 0;\n  param_1[0x13] = 0;\n  *(undefined *)(param_1 + 0xb) = 0;\n  param_1[0xf] = 0;\n  param_1[0x10] = _DAT_0001745c;\n  param_1[0x11] = 0;\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "gb_reset"
                    ],
                    "calling_functions": [
                        "gb_reset",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "gb_new",
                "func_c_signature": "undefined4 gb_new(void)",
                "decompiled_code": "undefined4 gb_new(void) {\n  int iVar1;\n  undefined4 local_10 [2];\n  \n  iVar1 = allocate(0x5c,0,local_10,0x13be8);\n  if (iVar1 == 0) {\n    iVar1 = gb_init(local_10[0]);\n    if (iVar1 == 0) {\n      local_10[0] = 0;\n    }\n  }\n  else {\n    local_10[0] = 0;\n  }\n  return local_10[0];\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "gb_new",
                        "allocate",
                        "gb_init"
                    ],
                    "calling_functions": [
                        "gb_new",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "gb_load",
                "func_c_signature": "undefined4 gb_load(int param_1,void *param_2)",
                "decompiled_code": "undefined4 gb_load(int param_1,void *param_2) {\n  int iVar1;\n  undefined4 uVar2;\n  \n  memcpy(*(void **)(param_1 + 4),param_2,0x8000);\n  iVar1 = *(int *)(param_1 + 4);\n  copy_title(param_1 + 8,iVar1 + 0x100);\n  param_1 = param_1 + 8;\n  printf(\"Loading %s\\n\",param_1);\n  if ((*(char *)(iVar1 + 0x148) == '\\0') && (*(char *)(iVar1 + 0x149) == '\\0')) {\n    uVar2 = 1;\n  }\n  else {\n    printf(\"Incompatible cartridge.\\n\",param_1);\n    uVar2 = 0;\n  }\n  return uVar2;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "gb_load",
                        "memcpy",
                        "copy_title",
                        "printf"
                    ],
                    "calling_functions": [
                        "gb_load",
                        "load_rom"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "gb_tick",
                "func_c_signature": "undefined4 gb_tick(int *param_1)",
                "decompiled_code": "undefined4 gb_tick(int *param_1) {\n  char cVar1;\n  byte bVar2;\n  int iVar3;\n  undefined4 uVar4;\n  uint local_10;\n  \n  update_joypad(param_1);\n  iVar3 = cpu_tick(param_1);\n  if (iVar3 == 0) {\n    uVar4 = 0;\n  }\n  else {\n    iVar3 = lcd_tick(param_1);\n    if (iVar3 == 0) {\n      uVar4 = 0;\n    }\n    else {\n      param_1[0x12] = param_1[0x12] + 1;\n      if (param_1[0x12] == 10000000) {\n        printf(\"Game Over\\n\");\n        uVar4 = 0;\n      }\n      else {\n        if (*(char *)(*param_1 + 0xff46) != -1) {\n          memcpy((void *)(*param_1 + 0xfe00),\n                 (void *)(*param_1 + (uint)*(byte *)(*param_1 + 0xff46) * 0x100),0xa0);\n          *(undefined *)(*param_1 + 0xff46) = 0xff;\n        }\n        param_1[0x15] = param_1[0x15] + 1;\n        if (param_1[0x15] == 0x3d) {\n          *(char *)(*param_1 + 0xff04) = *(char *)(*param_1 + 0xff04) + '\\x01';\n          param_1[0x15] = 0;\n        }\n        if ((*(byte *)(*param_1 + 0xff07) & 4) != 0) {\n          bVar2 = *(byte *)(*param_1 + 0xff07) & 3;\n          if (bVar2 == 3) {\n            local_10 = 0x3d;\n          }\n          else if (bVar2 < 4) {\n            if (bVar2 == 2) {\n              local_10 = 0xf;\n            }\n            else if (bVar2 < 3) {\n              if ((*(byte *)(*param_1 + 0xff07) & 3) == 0) {\n                local_10 = 0xf4;\n              }\n              else if (bVar2 == 1) {\n                local_10 = 4;\n              }\n            }\n          }\n          param_1[0x16] = param_1[0x16] + 1;\n          if (local_10 <= (uint)param_1[0x16]) {\n            param_1[0x16] = 0;\n            cVar1 = *(char *)(*param_1 + 0xff05);\n            *(char *)(*param_1 + 0xff05) = cVar1 + '\\x01';\n            if (cVar1 == -1) {\n              *(undefined *)(*param_1 + 0xff05) = *(undefined *)(*param_1 + 0xff06);\n              cpu_interrupt(param_1,2);\n            }\n          }\n        }\n        uVar4 = 1;\n      }\n    }\n  }\n  return uVar4;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "gb_tick",
                        "update_joypad",
                        "cpu_tick",
                        "lcd_tick",
                        "printf",
                        "memcpy",
                        "cpu_interrupt"
                    ],
                    "calling_functions": [
                        "gb_tick",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "copy_title",
                "func_c_signature": "void copy_title(int param_1,int param_2)",
                "decompiled_code": "void copy_title(int param_1,int param_2) {\n  int iVar1;\n  uint local_10;\n  \n  local_10 = 0;\n  while( true ) {\n    iVar1 = isupper((int)*(char *)(local_10 + param_2 + 0x34));\n    if (iVar1 == 0) break;\n    if (local_10 < 0x10) {\n      *(undefined *)(param_1 + local_10) = *(undefined *)(local_10 + param_2 + 0x34);\n    }\n    local_10 = local_10 + 1;\n  }\n  *(undefined *)(local_10 + param_1) = 0;\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "copy_title",
                        "isupper"
                    ],
                    "calling_functions": [
                        "gb_load",
                        "copy_title"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "update_joypad",
                "func_c_signature": "void update_joypad(int *param_1)",
                "decompiled_code": "void update_joypad(int *param_1) {\n  *(byte *)(*param_1 + 0xff00) = *(byte *)(*param_1 + 0xff00) | 0xf;\n  if ((*(byte *)(*param_1 + 0xff00) & 0x10) == 0) {\n    *(byte *)(*param_1 + 0xff00) = *(byte *)(*param_1 + 0xff00) & ~(*(byte *)(param_1 + 0xb) & 0xf);\n  }\n  if ((*(byte *)(*param_1 + 0xff00) & 0x20) == 0) {\n    *(byte *)(*param_1 + 0xff00) = *(byte *)(*param_1 + 0xff00) & ~(*(byte *)(param_1 + 0xb) >> 4);\n  }\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "update_joypad"
                    ],
                    "calling_functions": [
                        "gb_tick",
                        "update_joypad"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            }
        ],
        "lcd.c": [
            {
                "func_name": "bg_tile",
                "func_c_signature": "int bg_tile(int *param_1,byte param_2)",
                "decompiled_code": "int bg_tile(int *param_1,byte param_2) {\n  int iVar1;\n  \n  if ((*(byte *)(*param_1 + 0xff40) & 0x10) == 0) {\n    iVar1 = *param_1 + ((char)param_2 + 0x900) * 0x10;\n  }\n  else {\n    iVar1 = *param_1 + (param_2 + 0x800) * 0x10;\n  }\n  return iVar1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "bg_tile"
                    ],
                    "calling_functions": [
                        "bg_tile",
                        "update_bg"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "draw_tile",
                "func_c_signature": "void draw_tile(int param_1,int param_2,int param_3,int param_4,int param_5)",
                "decompiled_code": "void draw_tile(int param_1,int param_2,int param_3,int param_4,int param_5) {\n  uint uVar1;\n  byte local_6;\n  byte local_5;\n  \n  for (local_6 = 0; local_6 < 8; local_6 = local_6 + 1) {\n    for (local_5 = 0; local_5 < 8; local_5 = local_5 + 1) {\n      if ((1 << (7 - local_5 & 0x1f) & (uint)*(byte *)(param_4 + (uint)local_6 * 2 + 1)) == 0) {\n        uVar1 = 0;\n      }\n      else {\n        uVar1 = 2;\n      }\n      if (param_5 == 0) {\n        *(undefined *)((uint)local_6 * param_3 + (uint)local_5 + param_2) =\n             *(undefined *)\n              (((1 << (7 - local_5 & 0x1f) & (uint)*(byte *)(param_4 + (uint)local_6 * 2)) != 0 |\n               uVar1) + param_1 + (param_5 + 8) * 4);\n      }\n    }\n  }\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "draw_tile"
                    ],
                    "calling_functions": [
                        "draw_tile",
                        "update_bg"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "update_bg",
                "func_c_signature": "void update_bg(int *param_1)",
                "decompiled_code": "void update_bg(int *param_1) {\n  int iVar1;\n  undefined4 uVar2;\n  byte local_6;\n  byte local_5;\n  \n  if ((*(byte *)(*param_1 + 0xff40) & 8) == 0) {\n    iVar1 = *param_1 + 0x9800;\n  }\n  else {\n    iVar1 = *param_1 + 0x9c00;\n  }\n  for (local_6 = 0; local_6 < 0x20; local_6 = local_6 + 1) {\n    for (local_5 = 0; local_5 < 0x20; local_5 = local_5 + 1) {\n      uVar2 = bg_tile(param_1,*(undefined *)(iVar1 + (uint)local_5 + (uint)local_6 * 0x20));\n      draw_tile(param_1,param_1[6] + (uint)CONCAT11(local_6,local_5) * 8,0x100,uVar2,0);\n    }\n  }\n  return;\n}",
                "globals": [],
                "externs": [
                    "CONCAT11"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "update_bg",
                        "bg_tile",
                        "draw_tile",
                        "CONCAT11"
                    ],
                    "calling_functions": [
                        "update_bg",
                        "update_screen"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "update_screen",
                "func_c_signature": "void update_screen(int *param_1)",
                "decompiled_code": "void update_screen(int *param_1) {\n  byte bVar1;\n  char cVar2;\n  undefined2 local_12;\n  byte local_d;\n  int local_c;\n  \n  for (local_c = 0; local_c < 3; local_c = local_c + 1) {\n    bVar1 = *(byte *)(*param_1 + local_c + 0xff47);\n    *(byte *)(param_1 + local_c + 8) = bVar1 & 3;\n    *(byte *)((int)param_1 + local_c * 4 + 0x21) = (byte)((int)(uint)bVar1 >> 2) & 3;\n    *(byte *)((int)param_1 + local_c * 4 + 0x22) = (byte)((int)(uint)bVar1 >> 4) & 3;\n    *(byte *)((int)param_1 + local_c * 4 + 0x23) = bVar1 >> 6;\n  }\n  bVar1 = *(byte *)(*param_1 + 0xff44);\n  if ((*(byte *)(*param_1 + 0xff40) & 1) != 0) {\n    update_bg(param_1);\n    cVar2 = *(char *)(*param_1 + 0xff43);\n    local_12 = (ushort)(byte)(bVar1 + *(char *)(*param_1 + 0xff42)) << 8;\n    for (local_d = 0; local_d < 0xa0; local_d = local_d + 1) {\n      local_12 = CONCAT11(local_12._1_1_,local_d + cVar2);\n      *(undefined *)(param_1[7] + (uint)local_d + (uint)bVar1 * 0xa0) =\n           *(undefined *)(param_1[6] + (uint)local_12);\n    }\n  }\n  return;\n}",
                "globals": [],
                "externs": [
                    "CONCAT11"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "update_screen",
                        "update_bg",
                        "CONCAT11"
                    ],
                    "calling_functions": [
                        "update_screen",
                        "lcd_tick"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "lcd_tick",
                "func_c_signature": "undefined4 lcd_tick(int *param_1)",
                "decompiled_code": "undefined4 lcd_tick(int *param_1) {\n  char *pcVar1;\n  \n  param_1[0x14] = param_1[0x14] + 1;\n  if (param_1[0x14] == 0x6d) {\n    param_1[0x14] = 0;\n  }\n  if ((param_1[0x14] == 0) && (*(byte *)(*param_1 + 0xff44) < 0x90)) {\n    pcVar1 = (char *)(*param_1 + 0xff44);\n    *pcVar1 = *pcVar1 + '\\x01';\n    if (*pcVar1 == -0x70) {\n      param_1[0x11] = 1;\n      *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) & 0xfc;\n      *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) | 1;\n      if ((*(byte *)(*param_1 + 0xff41) & 0x10) != 0) {\n        cpu_interrupt(param_1,1);\n      }\n      cpu_interrupt(param_1,0);\n      return 1;\n    }\n  }\n  else {\n    if ((param_1[0x14] == 0x13) && (*(byte *)(*param_1 + 0xff44) < 0x90)) {\n      *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) & 0xfc;\n      *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) | 3;\n      return 1;\n    }\n    if ((param_1[0x14] == 0x3c) && (*(byte *)(*param_1 + 0xff44) < 0x90)) {\n      *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) & 0xfc;\n      *(undefined *)(*param_1 + 0xff41) = *(undefined *)(*param_1 + 0xff41);\n      if ((*(byte *)(*param_1 + 0xff41) & 8) == 0) {\n        return 1;\n      }\n      cpu_interrupt(param_1,1);\n      return 1;\n    }\n    if (param_1[0x14] != 0) {\n      return 1;\n    }\n    pcVar1 = (char *)(*param_1 + 0xff44);\n    *pcVar1 = *pcVar1 + '\\x01';\n    if (*pcVar1 != -0x66) {\n      return 1;\n    }\n    *(undefined *)(*param_1 + 0xff44) = 0;\n  }\n  *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) & 0xfc;\n  *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) | 2;\n  if ((*(byte *)(*param_1 + 0xff41) & 0x20) != 0) {\n    cpu_interrupt(param_1,1);\n  }\n  *(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) & 0xfb;\n  if ((*(char *)(*param_1 + 0xff44) == *(char *)(*param_1 + 0xff45)) &&\n     (*(byte *)(*param_1 + 0xff41) = *(byte *)(*param_1 + 0xff41) | 4,\n     (*(byte *)(*param_1 + 0xff41) & 0x40) != 0)) {\n    cpu_interrupt(param_1,1);\n  }\n  update_screen(param_1);\n  return 1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "lcd_tick",
                        "cpu_interrupt",
                        "update_screen"
                    ],
                    "calling_functions": [
                        "gb_tick",
                        "lcd_tick"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            }
        ],
        "main.c": [
            {
                "func_name": "usage",
                "func_c_signature": "void usage(undefined4 param_1)",
                "decompiled_code": "void usage(undefined4 param_1) {\n  printf(\"Usage: %s rom-file\\n\",param_1);\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "usage",
                        "printf"
                    ],
                    "calling_functions": [
                        "usage"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "recvall",
                "func_c_signature": "bool recvall(undefined4 param_1,int param_2,int param_3)",
                "decompiled_code": "bool recvall(undefined4 param_1,int param_2,int param_3) {\n  int iVar1;\n  int local_10 [2];\n  \n  for (; param_3 != 0; param_3 = param_3 - local_10[0]) {\n    iVar1 = receive(param_1,param_2,param_3,local_10);\n    if ((iVar1 != 0) || (local_10[0] == 0)) break;\n    param_2 = param_2 + local_10[0];\n  }\n  return param_3 == 0;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "recvall",
                        "receive"
                    ],
                    "calling_functions": [
                        "recvall",
                        "load_rom"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "load_rom",
                "func_c_signature": "undefined4 load_rom(undefined4 param_1)",
                "decompiled_code": "undefined4 load_rom(undefined4 param_1) {\n  undefined *puVar1;\n  int iVar2;\n  undefined4 uVar3;\n  undefined *puVar4;\n  undefined local_800c [4];\n  undefined local_8008 [32768];\n  \n  puVar1 = &stack0xfffffff8;\n  do {\n    puVar4 = puVar1;\n    *(undefined4 *)(puVar4 + -0x1000) = *(undefined4 *)(puVar4 + -0x1000);\n    puVar1 = puVar4 + -0x1000;\n  } while (puVar4 + -0x1000 != local_8008);\n  *(undefined4 *)(puVar4 + -0x1008) = 0x14737;\n  *(undefined4 *)(puVar4 + -0x100c) = 0x8000;\n  *(undefined **)(puVar4 + -0x1010) = local_800c;\n  *(undefined4 *)(puVar4 + -0x1014) = 0;\n  *(undefined4 *)(puVar4 + -0x1018) = 0x14753;\n  iVar2 = recvall();\n  if (iVar2 == 0) {\n    uVar3 = 0;\n  }\n  else {\n    *(undefined **)(puVar4 + -0x1010) = local_800c;\n    *(undefined4 *)(puVar4 + -0x1014) = param_1;\n    *(undefined4 *)(puVar4 + -0x1018) = 0x14773;\n    uVar3 = gb_load();\n  }\n  return uVar3;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "load_rom",
                        "recvall",
                        "gb_load"
                    ],
                    "calling_functions": [
                        "load_rom",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "print_reg",
                "func_c_signature": "void print_reg(int param_1)",
                "decompiled_code": "void print_reg(int param_1) {\n  printf(\"AF = %04X, BC = %04X, DE = %04X, HL = %04X\\n\",(uint)*(ushort *)(param_1 + 0x2e),\n         (uint)*(ushort *)(param_1 + 0x30),(uint)*(ushort *)(param_1 + 0x32),\n         (uint)*(ushort *)(param_1 + 0x34));\n  printf(\"SP = %04X, PC = %04X\\n\",(uint)*(ushort *)(param_1 + 0x36),\n         (uint)*(ushort *)(param_1 + 0x38));\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "print_reg",
                        "printf"
                    ],
                    "calling_functions": [
                        "print_reg",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "block_6px_char",
                "func_c_signature": "undefined * block_6px_char(byte *param_1,int param_2)",
                "decompiled_code": "undefined * block_6px_char(byte *param_1,int param_2) {\n  uint uVar1;\n  \n  uVar1 = ((uint)param_1[param_2 * 2 + 1] +\n          (uint)*param_1 + (uint)param_1[1] + (uint)param_1[param_2] + (uint)param_1[param_2 + 1] +\n          (uint)param_1[param_2 * 2]) / 6;\n  if (uVar1 == 3) {\n    return &DAT_000174bc;\n  }\n  if (uVar1 < 4) {\n    if (uVar1 == 2) {\n      return &DAT_000174ba;\n    }\n    if (uVar1 < 3) {\n      if (uVar1 == 0) {\n        return &DAT_000174b6;\n      }\n      if (uVar1 == 1) {\n        return &DAT_000174b8;\n      }\n    }\n  }\n  return &DAT_000174b6;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "block_6px_char"
                    ],
                    "calling_functions": [
                        "block_6px_char",
                        "draw_screen"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "draw_screen",
                "func_c_signature": "void draw_screen(int *param_1)",
                "decompiled_code": "void draw_screen(int *param_1) {\n  size_t sVar1;\n  undefined local_18 [4];\n  char *local_14;\n  byte local_e;\n  byte local_d;\n  \n  if (*(char *)(*param_1 + 0xff40) < '\\0') {\n    transmit(1,&DAT_000174be,3,local_18);\n    for (local_e = 0; local_e < 0x90; local_e = local_e + 3) {\n      for (local_d = 0; local_d < 0xa0; local_d = local_d + 2) {\n        local_14 = (char *)block_6px_char((uint)local_d + (uint)local_e * 0xa0 + param_1[7],0xa0);\n        sVar1 = strlen(local_14);\n        transmit(1,local_14,sVar1,local_18);\n      }\n      transmit(1,&DAT_000174c2,1,local_18);\n    }\n    transmit(1,&DAT_000174c2,1,local_18);\n  }\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "draw_screen",
                        "transmit",
                        "block_6px_char",
                        "strlen"
                    ],
                    "calling_functions": [
                        "draw_screen",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "process_input",
                "func_c_signature": "undefined4 process_input(int param_1)",
                "decompiled_code": "undefined4 process_input(int param_1) {\n  int iVar1;\n  undefined4 uVar2;\n  int local_14;\n  undefined local_d [5];\n  \n  iVar1 = receive(0,local_d,1,&local_14);\n  if ((iVar1 == 0) && (local_14 == 1)) {\n    switch(local_d[0]) {\n    case 0x3f:\n    case 0x68:\n      printf(\"HELP: (q)uit, (h)elp, (wasd) direction keys, (j) A, (k) B, (u) SELECT, (i) START\\n\");\n      break;\n    case 0x41:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xfd;\n      break;\n    case 0x44:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xfe;\n      break;\n    case 0x49:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0x7f;\n      break;\n    case 0x4a:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xef;\n      break;\n    case 0x4b:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xdf;\n      break;\n    case 0x53:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xf7;\n      break;\n    case 0x55:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xbf;\n      break;\n    case 0x57:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) & 0xfb;\n      break;\n    case 0x61:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 2;\n      break;\n    case 100:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 1;\n      break;\n    case 0x69:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 0x80;\n      break;\n    case 0x6a:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 0x10;\n      break;\n    case 0x6b:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 0x20;\n      break;\n    case 0x71:\n      printf(\"Good-Bye\\n\");\n      return 0;\n    case 0x73:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 8;\n      break;\n    case 0x75:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 0x40;\n      break;\n    case 0x77:\n      *(byte *)(param_1 + 0x2c) = *(byte *)(param_1 + 0x2c) | 4;\n    }\n    uVar2 = 1;\n  }\n  else {\n    uVar2 = 0;\n  }\n  return uVar2;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "process_input",
                        "receive",
                        "printf"
                    ],
                    "calling_functions": [
                        "process_input",
                        "check_input"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "check_input",
                "func_c_signature": "undefined4 check_input(undefined4 param_1)",
                "decompiled_code": "undefined4 check_input(undefined4 param_1) {\n  int iVar1;\n  undefined4 uVar2;\n  undefined4 local_9c;\n  undefined4 local_98;\n  int local_94;\n  uint local_90 [32];\n  uint local_10;\n  \n  local_94 = 0;\n  for (local_10 = 0; local_10 < 0x20; local_10 = local_10 + 1) {\n    local_90[local_10] = 0;\n  }\n  local_90[0] = local_90[0] | 1;\n  local_9c = 0;\n  local_98 = 100;\n  iVar1 = fdwait(1,local_90,0,&local_9c,&local_94);\n  if (iVar1 == 0) {\n    if (local_94 == 0) {\n      uVar2 = 1;\n    }\n    else {\n      uVar2 = process_input(param_1);\n    }\n  }\n  else {\n    uVar2 = 0;\n  }\n  return uVar2;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "check_input",
                        "fdwait",
                        "process_input"
                    ],
                    "calling_functions": [
                        "check_input",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            },
            {
                "func_name": "main",
                "func_c_signature": "undefined4 main(void)",
                "decompiled_code": "undefined4 main(void) {\n  ulonglong uVar1;\n  int iVar2;\n  int iVar3;\n  uint local_18;\n  uint local_14;\n  \n  iVar2 = gb_new();\n  if (iVar2 == 0) {\n    printf(\"Unable to allocate memory.\\n\");\n                    /* WARNING: Subroutine does not return */\n    exit(1);\n  }\n  printf(\"\\x1b[2J\");\n  iVar3 = load_rom(iVar2);\n  if (iVar3 == 0) {\n    printf(\"Unable to load ROM.\\n\");\n                    /* WARNING: Subroutine does not return */\n    exit(2);\n  }\n  printf(\"\\x1b[?25l\");\n  gb_reset(iVar2);\n  local_14 = 0;\n  local_18 = 0;\n  while (iVar3 = gb_tick(iVar2), iVar3 != 0) {\n    if (*(int *)(iVar2 + 0x44) != 0) {\n      local_18 = local_18 + 1;\n      if (local_18 == (local_18 / 0x1e) * 0x1e) {\n        draw_screen(iVar2);\n      }\n      *(undefined4 *)(iVar2 + 0x44) = 0;\n    }\n    uVar1 = (ulonglong)local_14;\n    local_14 = local_14 + 1;\n    if (*(float *)(iVar2 + 0x40) == (float)uVar1) {\n      iVar3 = check_input(iVar2);\n      if (iVar3 == 0) break;\n      local_14 = 0;\n    }\n  }\n  print_reg(iVar2);\n  return 0;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "main",
                        "gb_new",
                        "printf",
                        "exit",
                        "load_rom",
                        "gb_reset",
                        "gb_tick",
                        "draw_screen",
                        "check_input",
                        "print_reg"
                    ],
                    "calling_functions": [
                        "_start",
                        "main"
                    ],
                    "defined_in_file": "KPRCA_00009_decompiled.c"
                }
            }
        ]
    }
}