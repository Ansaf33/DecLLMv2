{
    "file": "NRFIN_00044",
    "decompiled_code": {
        "ai.c": [
            {
                "func_name": "seed_ai",
                "func_c_signature": "void seed_ai(undefined4 *param_1)",
                "decompiled_code": "void seed_ai(undefined4 *param_1) {\n  *param_1 = _DAT_4347c000;\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "seed_ai"
                    ],
                    "calling_functions": [
                        "seed_ai",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            }
        ],
        "bitboard.c": [
            {
                "func_name": "make_piece",
                "func_c_signature": "undefined4 * make_piece(undefined4 *param_1,undefined4 param_2,undefined4 param_3)",
                "decompiled_code": "undefined4 * make_piece(undefined4 *param_1,undefined4 param_2,undefined4 param_3) {\n  *param_1 = param_2;\n  param_1[1] = param_3;\n  return param_1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "make_piece"
                    ],
                    "calling_functions": [
                        "make_piece",
                        "init_bitboard",
                        "get_piece",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "init_bitboard",
                "func_c_signature": "void init_bitboard(void *param_1)",
                "decompiled_code": "void init_bitboard(void *param_1) {\n  int iVar1;\n  undefined4 uVar2;\n  undefined4 *puVar3;\n  void *apvStackY_a4 [3];\n  uint auStackY_98 [11];\n  undefined4 local_5c;\n  undefined4 local_58;\n  undefined4 local_54;\n  undefined4 local_50;\n  undefined4 local_4c;\n  undefined4 local_48;\n  undefined4 local_44;\n  undefined4 local_40;\n  undefined4 local_3c;\n  undefined4 local_38;\n  undefined4 local_34;\n  undefined4 local_30;\n  undefined4 local_2c;\n  undefined4 local_28;\n  undefined4 local_24;\n  undefined4 local_20;\n  undefined4 local_1c;\n  undefined4 local_18;\n  uint local_14;\n  uint local_10;\n  \n  puVar3 = &local_5c;\n  memset(param_1,0,0x7c);\n  *(undefined4 *)((int)param_1 + 0x68) = 1;\n  *(undefined4 *)((int)param_1 + 0x60) = *(undefined4 *)((int)param_1 + 0x68);\n  *(undefined4 *)((int)param_1 + 0x6c) = 1;\n  *(undefined4 *)((int)param_1 + 100) = *(undefined4 *)((int)param_1 + 0x6c);\n  *(undefined4 *)((int)param_1 + 0x74) = 0xffffffff;\n  *(undefined4 *)((int)param_1 + 0x70) = *(undefined4 *)((int)param_1 + 0x74);\n  for (local_10 = 0; local_10 < 2; local_10 = local_10 + 1) {\n    *(undefined4 *)((int)puVar3 + -8) = 1;\n    *(uint *)((int)puVar3 + -0xc) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x10) = &local_5c;\n    *(undefined4 *)((int)puVar3 + -0x14) = 0x113ef;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x14) = local_58;\n    *(undefined4 *)((int)puVar3 + -0x18) = local_5c;\n    *(undefined4 *)((int)puVar3 + -0x1c) = 0;\n    *(int *)((int)puVar3 + -0x20) = iVar1;\n    *(void **)((int)puVar3 + -0x24) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x28) = 0x11410;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0xc) = 2;\n    *(uint *)((int)puVar3 + -0x10) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x14) = &local_54;\n    *(undefined4 *)((int)puVar3 + -0x18) = 0x11424;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x18) = local_50;\n    *(undefined4 *)((int)puVar3 + -0x1c) = local_54;\n    *(undefined4 *)((int)puVar3 + -0x20) = 1;\n    *(int *)((int)puVar3 + -0x24) = iVar1;\n    *(void **)((int)puVar3 + -0x28) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x2c) = 0x11445;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0x10) = 3;\n    *(uint *)((int)puVar3 + -0x14) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x18) = &local_4c;\n    *(undefined4 *)((int)puVar3 + -0x1c) = 0x11459;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x1c) = local_48;\n    *(undefined4 *)((int)puVar3 + -0x20) = local_4c;\n    *(undefined4 *)((int)puVar3 + -0x24) = 2;\n    *(int *)((int)puVar3 + -0x28) = iVar1;\n    *(void **)((int)puVar3 + -0x2c) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x30) = 0x1147a;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0x14) = 4;\n    *(uint *)((int)puVar3 + -0x18) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x1c) = &local_44;\n    *(undefined4 *)((int)puVar3 + -0x20) = 0x1148e;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x20) = local_40;\n    *(undefined4 *)((int)puVar3 + -0x24) = local_44;\n    *(undefined4 *)((int)puVar3 + -0x28) = 3;\n    *(int *)((int)puVar3 + -0x2c) = iVar1;\n    *(void **)((int)puVar3 + -0x30) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x34) = 0x114af;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0x18) = 5;\n    *(uint *)((int)puVar3 + -0x1c) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x20) = &local_3c;\n    *(undefined4 *)((int)puVar3 + -0x24) = 0x114c3;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x24) = local_38;\n    *(undefined4 *)((int)puVar3 + -0x28) = local_3c;\n    *(undefined4 *)((int)puVar3 + -0x2c) = 4;\n    *(int *)((int)puVar3 + -0x30) = iVar1;\n    *(void **)((int)puVar3 + -0x34) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x38) = 0x114e4;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0x1c) = 3;\n    *(uint *)((int)puVar3 + -0x20) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x24) = &local_34;\n    *(undefined4 *)((int)puVar3 + -0x28) = 0x114f8;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x28) = local_30;\n    *(undefined4 *)((int)puVar3 + -0x2c) = local_34;\n    *(undefined4 *)((int)puVar3 + -0x30) = 5;\n    *(int *)((int)puVar3 + -0x34) = iVar1;\n    *(void **)((int)puVar3 + -0x38) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x3c) = 0x11519;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0x20) = 2;\n    *(uint *)((int)puVar3 + -0x24) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x28) = &local_2c;\n    *(undefined4 *)((int)puVar3 + -0x2c) = 0x1152d;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x2c) = local_28;\n    *(undefined4 *)((int)puVar3 + -0x30) = local_2c;\n    *(undefined4 *)((int)puVar3 + -0x34) = 6;\n    *(int *)((int)puVar3 + -0x38) = iVar1;\n    *(void **)((int)puVar3 + -0x3c) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x40) = 0x1154e;\n    set_piece();\n    *(undefined4 *)((int)puVar3 + -0x24) = 1;\n    *(uint *)((int)puVar3 + -0x28) = local_10;\n    *(undefined4 **)((int)puVar3 + -0x2c) = &local_24;\n    *(undefined4 *)((int)puVar3 + -0x30) = 0x11562;\n    make_piece();\n    iVar1 = local_10 * 7;\n    *(undefined4 *)((int)puVar3 + -0x30) = local_20;\n    *(undefined4 *)((int)puVar3 + -0x34) = local_24;\n    *(undefined4 *)((int)puVar3 + -0x38) = 7;\n    *(int *)((int)puVar3 + -0x3c) = iVar1;\n    *(void **)((int)puVar3 + -0x40) = param_1;\n    *(undefined4 *)((int)puVar3 + -0x44) = 0x11583;\n    set_piece();\n    puVar3 = (undefined4 *)((int)puVar3 + -0x20);\n    for (local_14 = 0; local_14 < 8; local_14 = local_14 + 1) {\n      *(undefined4 *)((int)puVar3 + -8) = 0;\n      *(uint *)((int)puVar3 + -0xc) = local_10;\n      *(undefined4 **)((int)puVar3 + -0x10) = &local_1c;\n      *(undefined4 *)((int)puVar3 + -0x14) = 0x115a0;\n      make_piece();\n      if (local_10 == 0) {\n        uVar2 = 1;\n      }\n      else {\n        uVar2 = 6;\n      }\n      *(undefined4 *)((int)puVar3 + -0x14) = local_18;\n      *(undefined4 *)((int)puVar3 + -0x18) = local_1c;\n      *(uint *)((int)puVar3 + -0x1c) = local_14;\n      *(undefined4 *)((int)puVar3 + -0x20) = uVar2;\n      *(void **)((int)puVar3 + -0x24) = param_1;\n      *(undefined4 *)((int)puVar3 + -0x28) = 0x115cb;\n      set_piece();\n      puVar3 = (undefined4 *)((int)puVar3 + -4);\n    }\n  }\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "init_bitboard",
                        "memset",
                        "make_piece",
                        "set_piece"
                    ],
                    "calling_functions": [
                        "init_bitboard",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "print_bitboard",
                "func_c_signature": "void print_bitboard(undefined4 param_1,int param_2)",
                "decompiled_code": "void print_bitboard(undefined4 param_1,int param_2) {\n  undefined *puVar1;\n  int iVar2;\n  undefined *local_6c [4];\n  undefined *local_5c;\n  undefined *local_58;\n  undefined *local_54;\n  undefined *local_50;\n  undefined *local_4c;\n  undefined *local_48;\n  undefined *local_44;\n  undefined *local_40;\n  undefined *local_3c [4];\n  uint local_2c;\n  int local_28;\n  int local_24;\n  int local_20;\n  undefined *local_1c;\n  int local_18;\n  int local_14;\n  char *local_10;\n  \n  local_3c[0] = &DAT_00016000;\n  local_3c[1] = &DAT_0001600b;\n  local_3c[2] = &DAT_00016016;\n  local_3c[3] = &DAT_00016021;\n  local_1c = &DAT_0001602c;\n  local_6c[0] = &DAT_00016031;\n  local_6c[1] = &DAT_00016036;\n  local_6c[2] = &DAT_0001603b;\n  local_6c[3] = &DAT_00016040;\n  local_5c = &DAT_00016045;\n  local_58 = &DAT_0001604a;\n  local_54 = &DAT_0001604f;\n  local_50 = &DAT_00016054;\n  local_4c = &DAT_00016059;\n  local_48 = &DAT_0001605e;\n  local_44 = &DAT_00016063;\n  local_40 = &DAT_00016068;\n  for (local_14 = 0; local_14 < 8; local_14 = local_14 + 1) {\n    local_20 = local_14;\n    if (param_2 != 0) {\n      local_20 = 7 - local_14;\n    }\n    puVar1 = (undefined *)(8 - local_20);\n    printf(\"%d \",puVar1);\n    for (local_18 = 0; local_18 < 8; local_18 = local_18 + 1) {\n      local_24 = local_18;\n      if (param_2 != 0) {\n        local_24 = 7 - local_18;\n      }\n      iVar2 = get_piece(param_1,7 - local_20,local_24,&local_2c);\n      if (iVar2 == 1) {\n        puVar1 = local_3c[local_2c | ((local_20 % 2 + local_24 % 2) % 2) * 2];\n        printf(\"%s%s%s\",puVar1,local_6c[local_2c | local_28 * 2],local_1c);\n      }\n      else {\n        puVar1 = local_3c[((local_20 % 2 + local_24 % 2) % 2) * 2];\n        printf(\"%s  %s\",puVar1,local_1c);\n      }\n    }\n    printf(\"\\n\",puVar1);\n  }\n  printf(\"  \");\n  if (param_2 == 0) {\n    iVar2 = 0;\n  }\n  else {\n    iVar2 = 7;\n  }\n  for (local_10 = \"abcdefgh\" + iVar2; *local_10 != '\\0'; local_10 = local_10 + iVar2) {\n    printf(\"%c \",(int)*local_10);\n    if (param_2 == 0) {\n      iVar2 = 1;\n    }\n    else {\n      iVar2 = -1;\n    }\n  }\n  printf(\"\\n\");\n  return;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "print_bitboard",
                        "printf",
                        "get_piece"
                    ],
                    "calling_functions": [
                        "print_bitboard",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "set_piece",
                "func_c_signature": "undefined4 set_piece(int param_1,int param_2,int param_3,uint param_4,int param_5)",
                "decompiled_code": "undefined4 set_piece(int param_1,int param_2,int param_3,uint param_4,int param_5) {\n  uint uVar1;\n  uint uVar2;\n  byte bVar3;\n  undefined4 uVar4;\n  uint uVar5;\n  uint uVar6;\n  byte bVar7;\n  uint uVar8;\n  uint uVar9;\n  \n  if ((((param_2 < 0) || (param_3 < 0)) || (7 < param_2)) || (7 < param_3)) {\n    uVar4 = 0xffffffff;\n  }\n  else {\n    uVar8 = param_5 * 2 | param_4;\n    uVar2 = *(uint *)(param_1 + 4 + uVar8 * 8);\n    uVar1 = param_2 * 8 + param_3;\n    bVar7 = (byte)uVar1;\n    bVar3 = bVar7 & 0x1f;\n    uVar5 = 1 << (bVar7 & 0x1f);\n    uVar6 = uVar5;\n    uVar9 = 0 << bVar3 | 1U >> 0x20 - bVar3;\n    if ((uVar1 & 0x20) != 0) {\n      uVar6 = 0;\n      uVar9 = uVar5;\n    }\n    param_4 = param_5 * 2 | param_4;\n    *(uint *)(param_1 + param_4 * 8) = uVar6 | *(uint *)(param_1 + uVar8 * 8);\n    *(uint *)(param_1 + 4 + param_4 * 8) = uVar9 | uVar2;\n    uVar4 = 0;\n  }\n  return uVar4;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "set_piece"
                    ],
                    "calling_functions": [
                        "init_bitboard",
                        "set_piece",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "clear_piece",
                "func_c_signature": "undefined4 clear_piece(int param_1,int param_2,int param_3)",
                "decompiled_code": "undefined4 clear_piece(int param_1,int param_2,int param_3) {\n  uint uVar1;\n  byte bVar2;\n  undefined4 uVar3;\n  uint uVar4;\n  uint uVar5;\n  byte bVar6;\n  uint uVar7;\n  uint local_18;\n  \n  if ((((param_2 < 0) || (param_3 < 0)) || (7 < param_2)) || (7 < param_3)) {\n    uVar3 = 0xffffffff;\n  }\n  else {\n    for (local_18 = 0; local_18 < 0xc; local_18 = local_18 + 1) {\n      uVar1 = param_2 * 8 + param_3;\n      bVar6 = (byte)uVar1;\n      bVar2 = bVar6 & 0x1f;\n      uVar4 = 1 << (bVar6 & 0x1f);\n      uVar5 = uVar4;\n      uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n      if ((uVar1 & 0x20) != 0) {\n        uVar5 = 0;\n        uVar7 = uVar4;\n      }\n      *(uint *)(param_1 + local_18 * 8) = ~uVar5 & *(uint *)(param_1 + local_18 * 8);\n      *(uint *)(param_1 + 4 + local_18 * 8) = ~uVar7 & *(uint *)(param_1 + 4 + local_18 * 8);\n    }\n    uVar3 = 0;\n  }\n  return uVar3;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "clear_piece"
                    ],
                    "calling_functions": [
                        "clear_piece",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "get_piece",
                "func_c_signature": "undefined4 get_piece(int param_1,int param_2,int param_3,undefined4 *param_4)",
                "decompiled_code": "undefined4 get_piece(int param_1,int param_2,int param_3,undefined4 *param_4) {\n  uint *puVar1;\n  uint uVar2;\n  byte bVar3;\n  undefined4 uVar4;\n  uint uVar5;\n  byte bVar6;\n  uint uVar7;\n  undefined4 local_24;\n  undefined4 local_20;\n  uint local_10;\n  \n  if ((((param_2 < 0) || (param_3 < 0)) || (7 < param_2)) || (7 < param_3)) {\n    uVar4 = 0xffffffff;\n  }\n  else {\n    for (local_10 = 0; local_10 < 0xc; local_10 = local_10 + 1) {\n      puVar1 = (uint *)(param_1 + local_10 * 8);\n      uVar2 = puVar1[1];\n      uVar7 = param_3 + param_2 * 8;\n      bVar6 = (byte)uVar7;\n      bVar3 = bVar6 & 0x1f;\n      uVar5 = *puVar1 >> bVar3 | uVar2 << 0x20 - bVar3;\n      if ((uVar7 & 0x20) != 0) {\n        uVar5 = uVar2 >> (bVar6 & 0x1f);\n      }\n      if ((uVar5 & 1) != 0) {\n        make_piece(&local_24,local_10 & 1,local_10 >> 1);\n        *param_4 = local_24;\n        param_4[1] = local_20;\n        return 1;\n      }\n    }\n    uVar4 = 0;\n  }\n  return uVar4;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "get_piece",
                        "make_piece"
                    ],
                    "calling_functions": [
                        "print_bitboard",
                        "get_piece",
                        "pawn_moves",
                        "rook_moves",
                        "knight_moves",
                        "bishop_moves",
                        "king_moves",
                        "can_castle",
                        "validate_move",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "pawn_moves",
                "func_c_signature": "undefined8 pawn_moves(int param_1,int param_2,int param_3,int param_4)",
                "decompiled_code": "undefined8 pawn_moves(int param_1,int param_2,int param_3,int param_4) {\n  uint uVar1;\n  byte bVar2;\n  uint uVar3;\n  uint uVar4;\n  byte bVar5;\n  int iVar6;\n  uint uVar7;\n  int local_14 [2];\n  uint local_c;\n  uint local_8;\n  \n  local_c = 0;\n  local_8 = 0;\n  if (param_2 == 0) {\n    iVar6 = 1;\n  }\n  else {\n    iVar6 = -1;\n  }\n  iVar6 = get_piece(param_1,iVar6 + param_3,param_4,local_14);\n  if (iVar6 == 0) {\n    if (param_2 == 0) {\n      iVar6 = 1;\n    }\n    else {\n      iVar6 = -1;\n    }\n    uVar1 = (param_3 + iVar6) * 8 + param_4;\n    bVar5 = (byte)uVar1;\n    bVar2 = bVar5 & 0x1f;\n    uVar3 = 1 << (bVar5 & 0x1f);\n    uVar4 = uVar3;\n    uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n    if ((uVar1 & 0x20) != 0) {\n      uVar4 = 0;\n      uVar7 = uVar3;\n    }\n    local_c = local_c | uVar4;\n    local_8 = local_8 | uVar7;\n  }\n  if ((local_c | local_8) != 0) {\n    if (param_2 == 0) {\n      iVar6 = 1;\n    }\n    else {\n      iVar6 = 6;\n    }\n    if (iVar6 == param_3) {\n      if (param_2 == 0) {\n        iVar6 = 2;\n      }\n      else {\n        iVar6 = -2;\n      }\n      iVar6 = get_piece(param_1,iVar6 + param_3,param_4,local_14);\n      if (iVar6 == 0) {\n        if (param_2 == 0) {\n          iVar6 = 2;\n        }\n        else {\n          iVar6 = -2;\n        }\n        uVar1 = (param_3 + iVar6) * 8 + param_4;\n        bVar5 = (byte)uVar1;\n        bVar2 = bVar5 & 0x1f;\n        uVar3 = 1 << (bVar5 & 0x1f);\n        uVar4 = uVar3;\n        uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n        if ((uVar1 & 0x20) != 0) {\n          uVar4 = 0;\n          uVar7 = uVar3;\n        }\n        local_c = local_c | uVar4;\n        local_8 = local_8 | uVar7;\n      }\n    }\n  }\n  if (param_2 == 0) {\n    iVar6 = 1;\n  }\n  else {\n    iVar6 = -1;\n  }\n  iVar6 = get_piece(param_1,iVar6 + param_3,param_4 + -1,local_14);\n  if ((iVar6 == 1) && (param_2 != local_14[0])) {\n    if (param_2 == 0) {\n      iVar6 = 1;\n    }\n    else {\n      iVar6 = -1;\n    }\n    uVar1 = (param_4 + (param_3 + iVar6) * 8) - 1;\n    bVar5 = (byte)uVar1;\n    bVar2 = bVar5 & 0x1f;\n    uVar3 = 1 << (bVar5 & 0x1f);\n    uVar4 = uVar3;\n    uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n    if ((uVar1 & 0x20) != 0) {\n      uVar4 = 0;\n      uVar7 = uVar3;\n    }\n    local_c = local_c | uVar4;\n    local_8 = local_8 | uVar7;\n  }\n  if (param_2 == 0) {\n    iVar6 = 1;\n  }\n  else {\n    iVar6 = -1;\n  }\n  iVar6 = get_piece(param_1,iVar6 + param_3,param_4 + 1,local_14);\n  if ((iVar6 == 1) && (param_2 != local_14[0])) {\n    if (param_2 == 0) {\n      iVar6 = 1;\n    }\n    else {\n      iVar6 = -1;\n    }\n    uVar1 = param_4 + (param_3 + iVar6) * 8 + 1;\n    bVar5 = (byte)uVar1;\n    bVar2 = bVar5 & 0x1f;\n    uVar3 = 1 << (bVar5 & 0x1f);\n    uVar4 = uVar3;\n    uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n    if ((uVar1 & 0x20) != 0) {\n      uVar4 = 0;\n      uVar7 = uVar3;\n    }\n    local_c = local_c | uVar4;\n    local_8 = local_8 | uVar7;\n  }\n  if (param_2 == 0) {\n    iVar6 = 1;\n  }\n  else {\n    iVar6 = -1;\n  }\n  if ((*(int *)(param_1 + 0x70) == param_3 + iVar6) && (*(int *)(param_1 + 0x74) == param_4 + -1)) {\n    if (param_2 == 0) {\n      iVar6 = 1;\n    }\n    else {\n      iVar6 = -1;\n    }\n    uVar1 = (param_4 + (param_3 + iVar6) * 8) - 1;\n    bVar5 = (byte)uVar1;\n    bVar2 = bVar5 & 0x1f;\n    uVar3 = 1 << (bVar5 & 0x1f);\n    uVar4 = uVar3;\n    uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n    if ((uVar1 & 0x20) != 0) {\n      uVar4 = 0;\n      uVar7 = uVar3;\n    }\n    local_c = local_c | uVar4;\n    local_8 = local_8 | uVar7;\n  }\n  if (param_2 == 0) {\n    iVar6 = 1;\n  }\n  else {\n    iVar6 = -1;\n  }\n  if ((*(int *)(param_1 + 0x70) == param_3 + iVar6) && (*(int *)(param_1 + 0x74) == param_4 + 1)) {\n    if (param_2 == 0) {\n      iVar6 = 1;\n    }\n    else {\n      iVar6 = -1;\n    }\n    uVar1 = param_4 + (param_3 + iVar6) * 8 + 1;\n    bVar5 = (byte)uVar1;\n    bVar2 = bVar5 & 0x1f;\n    uVar3 = 1 << (bVar5 & 0x1f);\n    uVar4 = uVar3;\n    uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n    if ((uVar1 & 0x20) != 0) {\n      uVar4 = 0;\n      uVar7 = uVar3;\n    }\n    local_c = local_c | uVar4;\n    local_8 = local_8 | uVar7;\n  }\n  return CONCAT44(local_8,local_c);\n}",
                "globals": [],
                "externs": [
                    "CONCAT44"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "pawn_moves",
                        "get_piece",
                        "CONCAT44"
                    ],
                    "calling_functions": [
                        "pawn_moves"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "rook_moves",
                "func_c_signature": "undefined8 rook_moves(undefined4 param_1,int param_2,int param_3,int param_4)",
                "decompiled_code": "undefined8 rook_moves(undefined4 param_1,int param_2,int param_3,int param_4) {\n  uint uVar1;\n  byte bVar2;\n  uint uVar3;\n  uint uVar4;\n  byte bVar5;\n  uint uVar6;\n  int local_48 [10];\n  int local_20;\n  uint local_1c;\n  uint local_18;\n  int local_10;\n  int local_c;\n  uint local_8;\n  \n  local_1c = 0;\n  local_18 = 0;\n  local_48[0] = 1;\n  local_48[1] = 0;\n  local_48[2] = 0xffffffff;\n  local_48[3] = 0;\n  local_48[4] = 0;\n  local_48[5] = 1;\n  local_48[6] = 0;\n  local_48[7] = 0xffffffff;\n  for (local_8 = 0; local_8 < 4; local_8 = local_8 + 1) {\n    local_c = param_3 + local_48[local_8 * 2];\n    local_10 = param_4 + local_48[local_8 * 2 + 1];\n    while( true ) {\n      local_20 = get_piece(param_1,local_c,local_10,local_48 + 8);\n      if (local_20 != 0) break;\n      uVar1 = local_c * 8 + local_10;\n      bVar5 = (byte)uVar1;\n      bVar2 = bVar5 & 0x1f;\n      uVar3 = 1 << (bVar5 & 0x1f);\n      uVar4 = uVar3;\n      uVar6 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n      if ((uVar1 & 0x20) != 0) {\n        uVar4 = 0;\n        uVar6 = uVar3;\n      }\n      local_1c = local_1c | uVar4;\n      local_18 = local_18 | uVar6;\n      local_c = local_c + local_48[local_8 * 2];\n      local_10 = local_10 + local_48[local_8 * 2 + 1];\n    }\n    if ((local_20 == 1) && (param_2 != local_48[8])) {\n      uVar1 = local_c * 8 + local_10;\n      bVar5 = (byte)uVar1;\n      bVar2 = bVar5 & 0x1f;\n      uVar3 = 1 << (bVar5 & 0x1f);\n      uVar4 = uVar3;\n      uVar6 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n      if ((uVar1 & 0x20) != 0) {\n        uVar4 = 0;\n        uVar6 = uVar3;\n      }\n      local_1c = local_1c | uVar4;\n      local_18 = local_18 | uVar6;\n    }\n  }\n  return CONCAT44(local_18,local_1c);\n}",
                "globals": [],
                "externs": [
                    "CONCAT44"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "rook_moves",
                        "get_piece",
                        "CONCAT44"
                    ],
                    "calling_functions": [
                        "rook_moves",
                        "queen_moves"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "knight_moves",
                "func_c_signature": "undefined8 knight_moves(undefined4 param_1,int param_2,int param_3,int param_4)",
                "decompiled_code": "undefined8 knight_moves(undefined4 param_1,int param_2,int param_3,int param_4) {\n  uint uVar1;\n  byte bVar2;\n  uint uVar3;\n  uint uVar4;\n  byte bVar5;\n  uint uVar6;\n  int local_60 [18];\n  int local_18;\n  uint local_14;\n  uint local_10;\n  uint local_8;\n  \n  local_14 = 0;\n  local_10 = 0;\n  local_60[0] = 2;\n  local_60[1] = 1;\n  local_60[2] = 1;\n  local_60[3] = 2;\n  local_60[4] = 1;\n  local_60[5] = 0xfffffffe;\n  local_60[6] = 0xfffffffe;\n  local_60[7] = 1;\n  local_60[8] = 0xfffffffe;\n  local_60[9] = 0xffffffff;\n  local_60[10] = 0xffffffff;\n  local_60[11] = 0xfffffffe;\n  local_60[12] = 0xffffffff;\n  local_60[13] = 2;\n  local_60[14] = 2;\n  local_60[15] = 0xffffffff;\n  for (local_8 = 0; local_8 < 8; local_8 = local_8 + 1) {\n    local_18 = get_piece(param_1,local_60[local_8 * 2] + param_3,local_60[local_8 * 2 + 1] + param_4\n                         ,local_60 + 0x10);\n    if ((local_18 == 0) || ((local_18 == 1 && (param_2 != local_60[16])))) {\n      uVar1 = (param_3 + local_60[local_8 * 2]) * 8 + param_4 + local_60[local_8 * 2 + 1];\n      bVar5 = (byte)uVar1;\n      bVar2 = bVar5 & 0x1f;\n      uVar3 = 1 << (bVar5 & 0x1f);\n      uVar4 = uVar3;\n      uVar6 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n      if ((uVar1 & 0x20) != 0) {\n        uVar4 = 0;\n        uVar6 = uVar3;\n      }\n      local_14 = local_14 | uVar4;\n      local_10 = local_10 | uVar6;\n    }\n  }\n  return CONCAT44(local_10,local_14);\n}",
                "globals": [],
                "externs": [
                    "CONCAT44"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "knight_moves",
                        "get_piece",
                        "CONCAT44"
                    ],
                    "calling_functions": [
                        "knight_moves"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "bishop_moves",
                "func_c_signature": "undefined8 bishop_moves(undefined4 param_1,int param_2,int param_3,int param_4)",
                "decompiled_code": "undefined8 bishop_moves(undefined4 param_1,int param_2,int param_3,int param_4) {\n  uint uVar1;\n  byte bVar2;\n  uint uVar3;\n  uint uVar4;\n  byte bVar5;\n  uint uVar6;\n  int local_48 [10];\n  int local_20;\n  uint local_1c;\n  uint local_18;\n  int local_10;\n  int local_c;\n  uint local_8;\n  \n  local_1c = 0;\n  local_18 = 0;\n  local_48[0] = 1;\n  local_48[1] = 1;\n  local_48[2] = 0xffffffff;\n  local_48[3] = 1;\n  local_48[4] = 1;\n  local_48[5] = 0xffffffff;\n  local_48[6] = 0xffffffff;\n  local_48[7] = 0xffffffff;\n  for (local_8 = 0; local_8 < 4; local_8 = local_8 + 1) {\n    local_c = param_3 + local_48[local_8 * 2];\n    local_10 = param_4 + local_48[local_8 * 2 + 1];\n    while( true ) {\n      local_20 = get_piece(param_1,local_c,local_10,local_48 + 8);\n      if (local_20 != 0) break;\n      uVar1 = local_c * 8 + local_10;\n      bVar5 = (byte)uVar1;\n      bVar2 = bVar5 & 0x1f;\n      uVar3 = 1 << (bVar5 & 0x1f);\n      uVar4 = uVar3;\n      uVar6 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n      if ((uVar1 & 0x20) != 0) {\n        uVar4 = 0;\n        uVar6 = uVar3;\n      }\n      local_1c = local_1c | uVar4;\n      local_18 = local_18 | uVar6;\n      local_c = local_c + local_48[local_8 * 2];\n      local_10 = local_10 + local_48[local_8 * 2 + 1];\n    }\n    if ((local_20 == 1) && (param_2 != local_48[8])) {\n      uVar1 = local_c * 8 + local_10;\n      bVar5 = (byte)uVar1;\n      bVar2 = bVar5 & 0x1f;\n      uVar3 = 1 << (bVar5 & 0x1f);\n      uVar4 = uVar3;\n      uVar6 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n      if ((uVar1 & 0x20) != 0) {\n        uVar4 = 0;\n        uVar6 = uVar3;\n      }\n      local_1c = local_1c | uVar4;\n      local_18 = local_18 | uVar6;\n    }\n  }\n  return CONCAT44(local_18,local_1c);\n}",
                "globals": [],
                "externs": [
                    "CONCAT44"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "bishop_moves",
                        "get_piece",
                        "CONCAT44"
                    ],
                    "calling_functions": [
                        "bishop_moves",
                        "queen_moves"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "queen_moves",
                "func_c_signature": "ulonglong queen_moves(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)",
                "decompiled_code": "ulonglong queen_moves(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4) {\n  ulonglong uVar1;\n  ulonglong uVar2;\n  \n  uVar1 = bishop_moves(param_1,param_2,param_3,param_4);\n  uVar2 = rook_moves(param_1,param_2,param_3,param_4);\n  return uVar1 | uVar2;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "queen_moves",
                        "bishop_moves",
                        "rook_moves"
                    ],
                    "calling_functions": [
                        "queen_moves"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "king_moves",
                "func_c_signature": "undefined8 king_moves(undefined4 param_1,int param_2,int param_3,int param_4)",
                "decompiled_code": "undefined8 king_moves(undefined4 param_1,int param_2,int param_3,int param_4) {\n  uint uVar1;\n  byte bVar2;\n  int iVar3;\n  uint uVar4;\n  uint uVar5;\n  byte bVar6;\n  uint uVar7;\n  int local_68 [18];\n  int local_20;\n  uint local_1c;\n  uint local_18;\n  uint local_10;\n  \n  local_1c = 0;\n  local_18 = 0;\n  local_68[0] = 1;\n  local_68[1] = 1;\n  local_68[2] = 0;\n  local_68[3] = 1;\n  local_68[4] = 0xffffffff;\n  local_68[5] = 1;\n  local_68[6] = 0xffffffff;\n  local_68[7] = 0;\n  local_68[8] = 0xffffffff;\n  local_68[9] = 0xffffffff;\n  local_68[10] = 0;\n  local_68[11] = 0xffffffff;\n  local_68[12] = 1;\n  local_68[13] = 0xffffffff;\n  local_68[14] = 1;\n  local_68[15] = 0;\n  for (local_10 = 0; local_10 < 8; local_10 = local_10 + 1) {\n    local_20 = get_piece(param_1,local_68[local_10 * 2] + param_3,\n                         local_68[local_10 * 2 + 1] + param_4,local_68 + 0x10);\n    if ((local_20 == 0) || ((local_20 == 1 && (param_2 != local_68[16])))) {\n      iVar3 = is_at_risk(param_1,param_2,param_3 + local_68[local_10 * 2],\n                         local_68[local_10 * 2 + 1] + param_4,1);\n      if ((iVar3 == 0) &&\n         ((((-1 < param_3 + local_68[local_10 * 2] && (param_3 + local_68[local_10 * 2] < 8)) &&\n           (-1 < param_4 + local_68[local_10 * 2 + 1])) &&\n          (param_4 + local_68[local_10 * 2 + 1] < 8)))) {\n        uVar1 = (param_3 + local_68[local_10 * 2]) * 8 + param_4 + local_68[local_10 * 2 + 1];\n        bVar6 = (byte)uVar1;\n        bVar2 = bVar6 & 0x1f;\n        uVar4 = 1 << (bVar6 & 0x1f);\n        uVar5 = uVar4;\n        uVar7 = 0 << bVar2 | 1U >> 0x20 - bVar2;\n        if ((uVar1 & 0x20) != 0) {\n          uVar5 = 0;\n          uVar7 = uVar4;\n        }\n        local_1c = local_1c | uVar5;\n        local_18 = local_18 | uVar7;\n      }\n    }\n  }\n  return CONCAT44(local_18,local_1c);\n}",
                "globals": [],
                "externs": [
                    "CONCAT44"
                ],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "king_moves",
                        "get_piece",
                        "is_at_risk",
                        "CONCAT44"
                    ],
                    "calling_functions": [
                        "king_moves",
                        "is_checkmate"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "is_at_risk",
                "func_c_signature": "undefined4 is_at_risk(int param_1,int param_2,int param_3,uint param_4,int param_5)",
                "decompiled_code": "undefined4 is_at_risk(int param_1,int param_2,int param_3,uint param_4,int param_5) {\n  uint *puVar1;\n  uint uVar2;\n  byte bVar3;\n  uint uVar4;\n  uint uVar5;\n  byte bVar6;\n  uint uVar7;\n  uint uVar8;\n  undefined8 uVar9;\n  uint local_28;\n  uint local_10;\n  \n  local_28 = 0;\n  do {\n    if (param_5 == 0) {\n      uVar8 = 6;\n    }\n    else {\n      uVar8 = 5;\n    }\n    if (uVar8 <= local_28) {\n      return 0;\n    }\n    puVar1 = (uint *)(param_1 + (local_28 * 2 | (uint)(param_2 == 0)) * 8);\n    uVar8 = *puVar1;\n    uVar2 = puVar1[1];\n    for (local_10 = 0; local_10 < 0x40; local_10 = local_10 + 1) {\n      bVar3 = (byte)local_10 & 0x1f;\n      uVar4 = uVar8 >> bVar3 | uVar2 << 0x20 - bVar3;\n      if ((local_10 & 0x20) != 0) {\n        uVar4 = uVar2 >> ((byte)local_10 & 0x1f);\n      }\n      if (((uVar4 & 1) != 0) && ((local_28 != 0 || ((local_10 & 7) != param_4)))) {\n        uVar9 = (**(code **)(piece_moves + local_28 * 4))\n                          (param_1,(uint)(param_2 == 0),local_10 >> 3,local_10 & 7);\n        uVar7 = (uint)((ulonglong)uVar9 >> 0x20);\n        uVar4 = param_3 * 8 + param_4;\n        bVar6 = (byte)uVar4;\n        bVar3 = bVar6 & 0x1f;\n        uVar5 = (uint)uVar9 >> bVar3 | uVar7 << 0x20 - bVar3;\n        if ((uVar4 & 0x20) != 0) {\n          uVar5 = uVar7 >> (bVar6 & 0x1f);\n        }\n        if ((uVar5 & 1) != 0) {\n          return 1;\n        }\n      }\n    }\n    local_28 = local_28 + 1;\n  } while( true );\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "is_at_risk"
                    ],
                    "calling_functions": [
                        "king_moves",
                        "is_at_risk",
                        "is_checkmate",
                        "can_castle",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "is_checkmate",
                "func_c_signature": "undefined4 is_checkmate(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)",
                "decompiled_code": "undefined4 is_checkmate(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4) {\n  int iVar1;\n  longlong lVar2;\n  \n  iVar1 = is_at_risk(param_1,param_2,param_3,param_4,0);\n  if ((iVar1 == 1) && (lVar2 = king_moves(param_1,param_2,param_3,param_4), lVar2 == 0)) {\n    return 1;\n  }\n  return 0;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "is_checkmate",
                        "is_at_risk",
                        "king_moves"
                    ],
                    "calling_functions": [
                        "is_checkmate",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "is_stalemate",
                "func_c_signature": "bool is_stalemate(int param_1,int param_2)",
                "decompiled_code": "bool is_stalemate(int param_1,int param_2) {\n  uint *puVar1;\n  uint uVar2;\n  uint uVar3;\n  byte bVar4;\n  uint uVar5;\n  bool bVar6;\n  undefined8 uVar7;\n  uint local_28;\n  uint local_1c;\n  uint local_18;\n  uint local_10;\n  \n  local_1c = 0;\n  local_18 = 0;\n  if (*(uint *)(param_1 + 0x78) < 100) {\n    for (local_28 = 0; local_28 < 6; local_28 = local_28 + 1) {\n      puVar1 = (uint *)(param_1 + (local_28 * 2 | (uint)(param_2 == 0)) * 8);\n      uVar2 = *puVar1;\n      uVar3 = puVar1[1];\n      for (local_10 = 0; local_10 < 0x40; local_10 = local_10 + 1) {\n        bVar4 = (byte)local_10 & 0x1f;\n        uVar5 = uVar2 >> bVar4 | uVar3 << 0x20 - bVar4;\n        if ((local_10 & 0x20) != 0) {\n          uVar5 = uVar3 >> ((byte)local_10 & 0x1f);\n        }\n        if ((uVar5 & 1) != 0) {\n          uVar7 = (**(code **)(piece_moves + local_28 * 4))\n                            (param_1,(uint)(param_2 == 0),local_10 >> 3,local_10 & 7);\n          local_1c = local_1c | (uint)uVar7;\n          local_18 = local_18 | (uint)((ulonglong)uVar7 >> 0x20);\n        }\n      }\n    }\n    bVar6 = (local_1c | local_18) == 0;\n  }\n  else {\n    bVar6 = true;\n  }\n  return bVar6;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "is_stalemate"
                    ],
                    "calling_functions": [
                        "is_stalemate",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "infer_src",
                "func_c_signature": "undefined4 infer_src(int param_1,uint *param_2)",
                "decompiled_code": "undefined4 infer_src(int param_1,uint *param_2) {\n  uint *puVar1;\n  uint uVar2;\n  uint uVar3;\n  byte bVar4;\n  uint uVar5;\n  uint uVar6;\n  byte bVar7;\n  uint uVar8;\n  undefined8 uVar9;\n  uint local_10;\n  \n  puVar1 = (uint *)(param_1 + (param_2[1] * 2 | *param_2) * 8);\n  uVar2 = *puVar1;\n  uVar3 = puVar1[1];\n  if ((param_2[0xb] != 0xffffffff) && (param_2[0xc] != 0xffffffff)) {\n    for (local_10 = 0; local_10 < 0x40; local_10 = local_10 + 1) {\n      bVar4 = (byte)local_10 & 0x1f;\n      uVar5 = uVar2 >> bVar4 | uVar3 << 0x20 - bVar4;\n      if ((local_10 & 0x20) != 0) {\n        uVar5 = uVar3 >> ((byte)local_10 & 0x1f);\n      }\n      if ((uVar5 & 1) != 0) {\n        uVar9 = (**(code **)(piece_moves + param_2[1] * 4))\n                          (param_1,*param_2,local_10 >> 3,local_10 & 7);\n        uVar8 = (uint)((ulonglong)uVar9 >> 0x20);\n        uVar5 = param_2[0xb] * 8 + param_2[0xc];\n        bVar7 = (byte)uVar5;\n        bVar4 = bVar7 & 0x1f;\n        uVar6 = (uint)uVar9 >> bVar4 | uVar8 << 0x20 - bVar4;\n        if ((uVar5 & 0x20) != 0) {\n          uVar6 = uVar8 >> (bVar7 & 0x1f);\n        }\n        if ((((uVar6 & 1) != 0) && ((param_2[9] == 0xffffffff || (param_2[9] == local_10 >> 3)))) &&\n           ((param_2[10] == 0xffffffff || (param_2[10] == (local_10 & 7))))) {\n          param_2[9] = local_10 >> 3;\n          param_2[10] = local_10 & 7;\n          return 0;\n        }\n      }\n    }\n  }\n  return 0xffffffff;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "infer_src"
                    ],
                    "calling_functions": [
                        "infer_src",
                        "parse_san"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "can_castle",
                "func_c_signature": "undefined4 can_castle(int param_1,int param_2,int param_3)",
                "decompiled_code": "undefined4 can_castle(int param_1,int param_2,int param_3) {\n  undefined4 uVar1;\n  int iVar2;\n  undefined local_2c [4];\n  int local_28;\n  uint local_24;\n  uint local_20;\n  undefined4 local_1c;\n  uint local_18;\n  uint local_14;\n  uint local_10;\n  \n  local_14 = 4;\n  if (param_3 == 0) {\n    local_18 = 7;\n  }\n  else {\n    local_18 = 0;\n  }\n  if (param_2 == 0) {\n    local_1c = 0;\n  }\n  else {\n    local_1c = 7;\n  }\n  if (*(int *)(param_1 + (param_3 + param_2 * 2 + 0x18) * 4) == 0) {\n    uVar1 = 0;\n  }\n  else {\n    iVar2 = get_piece(param_1,local_1c,4,local_2c);\n    if ((iVar2 == 1) && (local_28 == 5)) {\n      iVar2 = get_piece(param_1,local_1c,local_18,local_2c);\n      if ((iVar2 == 1) && (local_28 == 1)) {\n        local_20 = local_14;\n        if ((int)local_18 <= (int)local_14) {\n          local_20 = local_18;\n        }\n        if (param_3 == 0) {\n          iVar2 = 1;\n        }\n        else {\n          iVar2 = 2;\n        }\n        local_20 = local_20 + iVar2;\n        local_24 = local_14;\n        local_10 = local_20;\n        if ((int)local_14 <= (int)local_18) {\n          local_24 = local_18;\n        }\n        for (; local_10 < local_24; local_10 = local_10 + 1) {\n          iVar2 = get_piece(param_1,local_1c,local_10,local_2c);\n          if ((iVar2 != 0) || (iVar2 = is_at_risk(param_1,param_2,local_1c,local_10,0), iVar2 != 0))\n          {\n            return 0;\n          }\n        }\n        uVar1 = 1;\n      }\n      else {\n        uVar1 = 0;\n      }\n    }\n    else {\n      uVar1 = 0;\n    }\n  }\n  return uVar1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "can_castle",
                        "get_piece",
                        "is_at_risk"
                    ],
                    "calling_functions": [
                        "can_castle",
                        "validate_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "validate_move",
                "func_c_signature": "undefined4 validate_move(int param_1,int *param_2)",
                "decompiled_code": "undefined4 validate_move(int param_1,int *param_2) {\n  uint uVar1;\n  byte bVar2;\n  int iVar3;\n  undefined4 uVar4;\n  uint uVar5;\n  byte bVar6;\n  uint uVar7;\n  undefined8 uVar8;\n  int local_1c;\n  int local_18;\n  \n  if ((((param_2[9] == -1) || (param_2[10] == -1)) || (param_2[0xb] == -1)) || (param_2[0xc] == -1))\n  {\n    return 0;\n  }\n  iVar3 = get_piece(param_1,param_2[9],param_2[10],&local_1c);\n  if (((iVar3 != 1) || (*param_2 != local_1c)) || (param_2[1] != local_18)) {\n    return 0;\n  }\n  if (param_2[6] == 0) {\nLAB_00012940:\n    if (((param_2[7] == 0) && (param_2[8] == 0)) || (param_2[1] != 5)) {\n      if ((param_2[3] == 0) && (param_2[4] == 0)) {\n        if (((param_2[5] != 0) &&\n            ((iVar3 = get_piece(param_1,param_2[0xb],param_2[0xc],&local_1c), iVar3 != 1 ||\n             (local_1c == *param_2)))) &&\n           ((param_2[1] != 0 ||\n            ((param_2[0xb] != *(int *)(param_1 + 0x70) || (param_2[0xc] != *(int *)(param_1 + 0x74))\n             ))))) {\n          return 0;\n        }\n        uVar8 = (**(code **)(piece_moves + param_2[1] * 4))(param_1,*param_2,param_2[9],param_2[10])\n        ;\n        uVar7 = (uint)((ulonglong)uVar8 >> 0x20);\n        uVar1 = param_2[0xb] * 8 + param_2[0xc];\n        bVar6 = (byte)uVar1;\n        bVar2 = bVar6 & 0x1f;\n        uVar5 = (uint)uVar8 >> bVar2 | uVar7 << 0x20 - bVar2;\n        if ((uVar1 & 0x20) != 0) {\n          uVar5 = uVar7 >> (bVar6 & 0x1f);\n        }\n        if ((uVar5 & 1) == 0) {\n          uVar4 = 0;\n        }\n        else {\n          uVar4 = 1;\n        }\n      }\n      else {\n        uVar4 = can_castle(param_1,*param_2,param_2[3] == 0);\n      }\n    }\n    else {\n      uVar4 = 0;\n    }\n  }\n  else {\n    if (param_2[1] == 0) {\n      if (*param_2 == 0) {\n        iVar3 = 7;\n      }\n      else {\n        iVar3 = 0;\n      }\n      if ((iVar3 == param_2[0xb]) && ((param_2[2] == 0 || (3 < (uint)param_2[2]))))\n      goto LAB_00012940;\n    }\n    uVar4 = 0;\n  }\n  return uVar4;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "validate_move",
                        "get_piece",
                        "can_castle"
                    ],
                    "calling_functions": [
                        "validate_move",
                        "make_move"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "make_move",
                "func_c_signature": "undefined4 make_move(int param_1,uint *param_2)",
                "decompiled_code": "undefined4 make_move(int param_1,uint *param_2) {\n  uint *puVar1;\n  uint uVar2;\n  byte bVar3;\n  int iVar4;\n  undefined4 uVar5;\n  uint uVar6;\n  uint **ppuVar7;\n  int aiStackY_8c [2];\n  uint uStack_64;\n  uint *puStack_60;\n  undefined auStack_5c [8];\n  uint local_54;\n  int local_50;\n  uint local_4c;\n  int local_48;\n  undefined4 local_44;\n  undefined4 local_40;\n  undefined4 local_3c;\n  undefined4 local_38;\n  undefined4 local_34;\n  undefined4 local_30;\n  undefined4 local_2c;\n  undefined4 local_28;\n  undefined4 local_24;\n  undefined4 local_20;\n  uint local_1c;\n  uint local_18;\n  uint local_10;\n  \n  puStack_60 = (uint *)0x12a93;\n  iVar4 = validate_move(param_1,param_2);\n  if (iVar4 == 0) {\n    return 0xffffffff;\n  }\n  if (param_2[1] == 0) {\nLAB_00012aef:\n    *(undefined4 *)(param_1 + 0x78) = 0;\n  }\n  else {\n    uStack_64 = param_2[0xc];\n    puStack_60 = &local_4c;\n    iVar4 = get_piece(param_1,param_2[0xb]);\n    if ((iVar4 == 1) && (local_4c != *param_2)) goto LAB_00012aef;\n    *(int *)(param_1 + 0x78) = *(int *)(param_1 + 0x78) + 1;\n  }\n  if (param_2[3] != 0) {\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    uStack_64 = 4;\n    clear_piece(param_1,uVar5);\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    uStack_64 = 7;\n    clear_piece(param_1,uVar5);\n    uStack_64 = 5;\n    make_piece(&local_44,*param_2);\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    set_piece(param_1,uVar5,6,local_44,local_40);\n    make_piece(&local_3c,*param_2,1);\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    set_piece(param_1,uVar5,5,local_3c,local_38);\n    ppuVar7 = (uint **)&uStack_64;\n    *(undefined4 *)(param_1 + (*param_2 + 0xc) * 8) = 0;\n    *(undefined4 *)(param_1 + 100 + *param_2 * 8) = 0;\n    goto LAB_00013026;\n  }\n  if (param_2[4] != 0) {\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    uStack_64 = 4;\n    clear_piece(param_1,uVar5);\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    uStack_64 = 0;\n    clear_piece(param_1,uVar5);\n    uStack_64 = 5;\n    make_piece(&local_34,*param_2);\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    set_piece(param_1,uVar5,2,local_34,local_30);\n    make_piece(&local_2c,*param_2,1);\n    if (*param_2 == 0) {\n      uVar5 = 0;\n    }\n    else {\n      uVar5 = 7;\n    }\n    set_piece(param_1,uVar5,3,local_2c,local_28);\n    ppuVar7 = (uint **)&uStack_64;\n    *(undefined4 *)(param_1 + (*param_2 + 0xc) * 8) = 0;\n    *(undefined4 *)(param_1 + 100 + *param_2 * 8) = 0;\n    goto LAB_00013026;\n  }\n  uStack_64 = param_2[0xc];\n  puStack_60 = &local_4c;\n  iVar4 = get_piece(param_1,param_2[0xb]);\n  if (((iVar4 == 1) && (local_4c != *param_2)) && (local_48 == 5)) {\n    return 2;\n  }\n  uStack_64 = param_2[10];\n  clear_piece(param_1,param_2[9]);\n  uStack_64 = param_2[0xc];\n  clear_piece(param_1,param_2[0xb]);\n  if (param_2[6] == 0) {\n    set_piece(param_1,param_2[0xb],param_2[0xc],*param_2,param_2[1]);\n    ppuVar7 = (uint **)auStack_5c;\n  }\n  else {\n    uStack_64 = param_2[2];\n    make_piece(&local_24,*param_2);\n    set_piece(param_1,param_2[0xb],param_2[0xc],local_24,local_20);\n    ppuVar7 = &puStack_60;\n  }\n  if (param_2[1] == 5) {\n    *(undefined4 *)(param_1 + (*param_2 + 0xc) * 8) = 0;\n    *(undefined4 *)(param_1 + 100 + *param_2 * 8) = 0;\n  }\n  if (param_2[1] == 1) {\n    if (*param_2 == 0) {\n      uVar6 = 0;\n    }\n    else {\n      uVar6 = 7;\n    }\n    if ((uVar6 == param_2[9]) && (param_2[10] == 7)) {\n      *(undefined4 *)(param_1 + (*param_2 + 0xc) * 8) = 0;\n    }\n    else {\n      if (*param_2 == 0) {\n        uVar6 = 0;\n      }\n      else {\n        uVar6 = 7;\n      }\n      if ((uVar6 == param_2[9]) && (param_2[10] == 0)) {\n        *(undefined4 *)(param_1 + 100 + *param_2 * 8) = 0;\n      }\n    }\n  }\n  if (((param_2[1] == 0) && (param_2[0xb] == *(uint *)(param_1 + 0x70))) &&\n     (param_2[0xc] == *(uint *)(param_1 + 0x74))) {\n    if ((int)param_2[9] < (int)param_2[0xb]) {\n      uVar6 = param_2[0xc];\n      uVar2 = param_2[0xb];\n      *(uint **)((int)ppuVar7 + -4) = &local_4c;\n      *(uint *)((int)ppuVar7 + -8) = uVar6;\n      *(uint *)((int)ppuVar7 + -0xc) = uVar2 - 1;\n      *(int *)((int)ppuVar7 + -0x10) = param_1;\n      *(undefined4 *)((int)ppuVar7 + -0x14) = 0x12f10;\n      iVar4 = get_piece();\n      if (((iVar4 == 1) && (local_48 == 0)) && (local_4c != *param_2)) {\n        uVar6 = param_2[0xb];\n        *(uint *)((int)ppuVar7 + -8) = param_2[0xc];\n        *(uint *)((int)ppuVar7 + -0xc) = uVar6 - 1;\n        *(int *)((int)ppuVar7 + -0x10) = param_1;\n        *(undefined4 *)((int)ppuVar7 + -0x14) = 0x12f47;\n        clear_piece();\n        goto LAB_00012fb3;\n      }\n    }\n    if ((int)param_2[0xb] < (int)param_2[9]) {\n      uVar6 = param_2[0xc];\n      uVar2 = param_2[0xb];\n      *(uint **)((int)ppuVar7 + -4) = &local_4c;\n      *(uint *)((int)ppuVar7 + -8) = uVar6;\n      *(uint *)((int)ppuVar7 + -0xc) = uVar2 + 1;\n      *(int *)((int)ppuVar7 + -0x10) = param_1;\n      *(undefined4 *)((int)ppuVar7 + -0x14) = 0x12f79;\n      iVar4 = get_piece();\n      if (((iVar4 == 1) && (local_48 == 0)) && (local_4c != *param_2)) {\n        uVar6 = param_2[0xb];\n        *(uint *)((int)ppuVar7 + -8) = param_2[0xc];\n        *(uint *)((int)ppuVar7 + -0xc) = uVar6 + 1;\n        *(int *)((int)ppuVar7 + -0x10) = param_1;\n        *(undefined4 *)((int)ppuVar7 + -0x14) = 0x12fb0;\n        clear_piece();\n      }\n    }\n  }\nLAB_00012fb3:\n  if ((param_2[1] == 0) && ((param_2[0xb] - param_2[9] == 2 || (param_2[0xb] - param_2[9] == -2))))\n  {\n    *(int *)(param_1 + 0x70) = (int)(param_2[9] + param_2[0xb]) / 2;\n    *(uint *)(param_1 + 0x74) = param_2[0xc];\n  }\n  else {\n    *(undefined4 *)(param_1 + 0x74) = 0xffffffff;\n    *(undefined4 *)(param_1 + 0x70) = *(undefined4 *)(param_1 + 0x74);\n  }\nLAB_00013026:\n  *(uint *)((int)ppuVar7 + -0xc) = *param_2;\n  *(int *)((int)ppuVar7 + -0x10) = param_1;\n  *(undefined4 *)((int)ppuVar7 + -0x14) = 0x13037;\n  iVar4 = is_stalemate();\n  if (iVar4 == 0) {\n    uVar6 = *param_2;\n    *(undefined4 *)((int)ppuVar7 + -8) = 5;\n    *(uint *)((int)ppuVar7 + -0xc) = (uint)(uVar6 == 0);\n    *(uint **)((int)ppuVar7 + -0x10) = &local_54;\n    *(undefined4 *)((int)ppuVar7 + -0x14) = 0x13064;\n    make_piece();\n    local_4c = local_54;\n    local_48 = local_50;\n    puVar1 = (uint *)(param_1 + (local_50 * 2 | local_54) * 8);\n    local_1c = *puVar1;\n    local_18 = puVar1[1];\n    for (local_10 = 0; local_10 < 0x40; local_10 = local_10 + 1) {\n      bVar3 = (byte)local_10 & 0x1f;\n      uVar6 = local_1c >> bVar3 | local_18 << 0x20 - bVar3;\n      if ((local_10 & 0x20) != 0) {\n        uVar6 = local_18 >> ((byte)local_10 & 0x1f);\n      }\n      if ((uVar6 & 1) != 0) break;\n    }\n    *(undefined4 *)((int)ppuVar7 + -0x14) = 0;\n    *(uint *)((int)ppuVar7 + -0x18) = local_10 & 7;\n    *(uint *)((int)ppuVar7 + -0x1c) = local_10 >> 3;\n    *(uint *)((int)ppuVar7 + -0x20) = local_54;\n    *(int *)((int)ppuVar7 + -0x24) = param_1;\n    *(undefined4 *)((int)ppuVar7 + -0x28) = 0x130ef;\n    iVar4 = is_at_risk();\n    if (iVar4 == 1) {\n      *(uint *)((int)ppuVar7 + -8) = local_10 & 7;\n      *(uint *)((int)ppuVar7 + -0xc) = local_10 >> 3;\n      *(uint *)((int)ppuVar7 + -0x10) = local_4c;\n      *(int *)((int)ppuVar7 + -0x14) = param_1;\n      *(undefined4 *)((int)ppuVar7 + -0x18) = 0x13115;\n      iVar4 = is_checkmate();\n      if (iVar4 == 0) {\n        uVar5 = 1;\n      }\n      else {\n        uVar5 = 2;\n      }\n    }\n    else {\n      uVar5 = 0;\n    }\n  }\n  else {\n    uVar5 = 3;\n  }\n  return uVar5;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "make_move",
                        "validate_move",
                        "get_piece",
                        "clear_piece",
                        "make_piece",
                        "set_piece",
                        "is_stalemate",
                        "is_at_risk",
                        "is_checkmate"
                    ],
                    "calling_functions": [
                        "make_move",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "parse_san",
                "func_c_signature": "undefined4 parse_san(undefined4 param_1,int param_2,char *param_3,int *param_4)",
                "decompiled_code": "undefined4 parse_san(undefined4 param_1,int param_2,char *param_3,int *param_4) {\n  int iVar1;\n  undefined4 uVar2;\n  \n  memset(param_4,0,0x34);\n  *param_4 = param_2;\n  param_4[10] = -1;\n  param_4[9] = param_4[10];\n  param_4[0xc] = -1;\n  param_4[0xb] = param_4[0xc];\n  iVar1 = strcmp(param_3,\"O-O\");\n  if (iVar1 == 0) {\n    param_4[1] = 5;\n    param_4[3] = 1;\n    if (param_2 == 0) {\n      iVar1 = 0;\n    }\n    else {\n      iVar1 = 7;\n    }\n    param_4[9] = iVar1;\n    param_4[0xb] = param_4[9];\n    param_4[10] = 4;\n    param_4[0xc] = 6;\n    uVar2 = 0;\n  }\n  else {\n    iVar1 = strcmp(param_3,\"O-O-O\");\n    if (iVar1 == 0) {\n      param_4[1] = 5;\n      param_4[4] = 1;\n      if (param_2 == 0) {\n        iVar1 = 0;\n      }\n      else {\n        iVar1 = 7;\n      }\n      param_4[9] = iVar1;\n      param_4[0xb] = param_4[9];\n      param_4[10] = 4;\n      param_4[0xc] = 2;\n      uVar2 = 0;\n    }\n    else {\n      if (*param_3 != '\\0') {\n                    /* WARNING: Could not recover jumptable at 0x00013292. Too many branches */\n                    /* WARNING: Treating indirect jump as call */\n        uVar2 = (*(code *)((int)&_GLOBAL_OFFSET_TABLE_ + switchD_00013292::switchdataD_0001609c))();\n        return uVar2;\n      }\n      if ((param_4[0xb] == -1) || (param_4[0xc] == -1)) {\n        uVar2 = 0xffffffff;\n      }\n      else if (((param_4[9] == -1) || (param_4[0xc] == -1)) &&\n              (iVar1 = infer_src(param_1,param_4), iVar1 != 0)) {\n        uVar2 = 0xffffffff;\n      }\n      else {\n        uVar2 = 0;\n      }\n    }\n  }\n  return uVar2;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "parse_san",
                        "memset",
                        "strcmp",
                        "infer_src"
                    ],
                    "calling_functions": [
                        "parse_san",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            }
        ],
        "service.c": [
            {
                "func_name": "calculate_csum",
                "func_c_signature": "uint calculate_csum(uint param_1)",
                "decompiled_code": "uint calculate_csum(uint param_1) {\n  uint uVar1;\n  uint local_14;\n  uint local_10;\n  \n  local_10 = 0;\n  for (local_14 = 0; local_14 < 0x400; local_14 = local_14 + 1) {\n    uVar1 = get_flag_byte(local_14);\n    local_10 = local_10 ^ uVar1 & 0xff;\n  }\n  return local_10 ^ param_1;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "calculate_csum",
                        "get_flag_byte"
                    ],
                    "calling_functions": [
                        "calculate_csum",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            },
            {
                "func_name": "main",
                "func_c_signature": "undefined4 main(void)",
                "decompiled_code": "undefined4 main(void) {\n  undefined *puVar1;\n  int iVar2;\n  undefined4 uVar3;\n  undefined local_d4 [52];\n  undefined local_a0 [124];\n  undefined local_24 [4];\n  int local_20;\n  char *local_1c;\n  int local_18;\n  uint local_14;\n  undefined *local_10;\n  \n  local_10 = &stack0x00000004;\n  local_18 = 1;\n  seed_ai(local_24);\n  while( true ) {\n    do {\n      if (local_18 != 0) {\n        init_bitboard(local_a0);\n        local_14 = 0;\n        local_18 = 0;\n      }\n      print_bitboard(local_a0,local_14);\n      if (local_14 == 0) {\n        puVar1 = &DAT_00016154;\n      }\n      else {\n        puVar1 = &DAT_0001615c;\n      }\n      printf(\"%s>%s \",puVar1,&DAT_00016164);\n      fflush(stdout);\n      fread_until(buf_0,10,0x1000,stdin);\n      local_1c = strchr(buf_0,10);\n    } while (local_1c == (char *)0x0);\n    *local_1c = '\\0';\n    iVar2 = strcmp(buf_0,\"quit\");\n    if (iVar2 == 0) break;\n    iVar2 = parse_san(local_a0,local_14,buf_0,local_d4);\n    if ((iVar2 == 0) && (local_20 = make_move(local_a0,local_d4), local_20 != -1)) {\n      printf(\"\\n\");\n      printf(buf_0);\n      uVar3 = calculate_csum(local_20);\n      printf(\"\\n%x\\n\",uVar3);\n      if (local_20 == 3) {\n        printf(\"STALEMATE!\\n\",uVar3);\n        local_18 = 1;\n      }\n      else if (local_20 < 4) {\n        if (local_20 == 1) {\n          printf(\"CHECK!\\n\",uVar3);\n        }\n        else if (local_20 == 2) {\n          printf(\"CHECKMATE!\\n\",uVar3);\n          local_18 = 1;\n        }\n      }\n      local_14 = (uint)(local_14 == 0);\n    }\n    else {\n      printf(\"INVALID MOVE!\\n\");\n    }\n  }\n  return 0;\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "main",
                        "seed_ai",
                        "init_bitboard",
                        "print_bitboard",
                        "printf",
                        "fflush",
                        "fread_until",
                        "strchr",
                        "strcmp",
                        "parse_san",
                        "make_move",
                        "calculate_csum"
                    ],
                    "calling_functions": [
                        "_start",
                        "main"
                    ],
                    "defined_in_file": "NRFIN_00044_decompiled.c"
                }
            }
        ]
    }
}