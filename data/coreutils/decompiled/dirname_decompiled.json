{
    "file": "dirname",
    "decompiled_code": {
        "dirname.c": [
            {
                "func_name": "usage",
                "func_c_signature": "void usage(int param_1)",
                "decompiled_code": "void usage(int param_1) {\n  FILE *pFVar1;\n  undefined8 uVar2;\n  char *pcVar3;\n  \n  uVar2 = _program_name;\n  if (param_1 == 0) {\n    pcVar3 = (char *)gettext(\"Usage: %s [OPTION] NAME...\\n\");\n    printf(pcVar3,uVar2);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\n                            \"Output each NAME with its last non-slash component and trailing slashes\\nremoved; if NAME contains no /\\'s, output \\'.\\' (meaning the current directory).\\n\\n\"\n                            );\n    fputs_unlocked(pcVar3,pFVar1);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\"  -z, --zero     end each output line with NUL, not newline\\n\");\n    fputs_unlocked(pcVar3,pFVar1);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\"      --help        display this help and exit\\n\");\n    fputs_unlocked(pcVar3,pFVar1);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\"      --version     output version information and exit\\n\");\n    fputs_unlocked(pcVar3,pFVar1);\n    uVar2 = _program_name;\n    pcVar3 = (char *)gettext(\n                            \"\\nExamples:\\n  %s /usr/bin/          -> \\\"/usr\\\"\\n  %s dir1/str dir2/str  -> \\\"dir1\\\" followed by \\\"dir2\\\"\\n  %s stdio.h            -> \\\".\\\"\\n\"\n                            );\n    printf(pcVar3,uVar2,uVar2,uVar2);\n    emit_ancillary_info(\"dirname\");\n  }\n  else {\n    pcVar3 = (char *)gettext(\"Try \\'%s --help\\' for more information.\\n\");\n    fprintf(_stderr,pcVar3,uVar2);\n  }\n                    /* WARNING: Subroutine does not return */\n  exit(param_1);\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "usage",
                        "gettext",
                        "printf",
                        "fputs_unlocked",
                        "emit_ancillary_info",
                        "fprintf",
                        "exit"
                    ],
                    "calling_functions": [
                        "usage",
                        "main"
                    ],
                    "defined_in_file": "dirname_decompiled.c"
                }
            },
            {
                "func_name": "main",
                "func_c_signature": "undefined8 main(int param_1,undefined8 *param_2)",
                "decompiled_code": "undefined8 main(int param_1,undefined8 *param_2) {\n  bool bVar1;\n  int iVar2;\n  undefined8 uVar3;\n  undefined8 uVar4;\n  undefined1 *local_30;\n  size_t local_28;\n  \n  bVar1 = false;\n  set_program_name(*param_2);\n  setlocale(6,\"\");\n  bindtextdomain(\"coreutils\",\"/usr/local/share/locale\");\n  textdomain(\"coreutils\");\n  atexit((__func *)&close_stdout);\n  do {\n    while( true ) {\n      iVar2 = getopt_long(param_1,param_2,&DAT_001009aa,longopts,0);\n      if (iVar2 == -1) {\n        if (_optind < param_1) goto LAB_00100606;\n        uVar3 = gettext(\"missing operand\");\n        error(0,0,uVar3);\n        usage(1);\n        do {\n          local_30 = (undefined1 *)param_2[_optind];\n          local_28 = dir_len(local_30);\n          if (local_28 == 0) {\n            local_30 = &dot_0;\n            local_28 = 1;\n          }\n          fwrite_unlocked(local_30,1,local_28,_stdout);\n          if (bVar1) {\n            iVar2 = 0;\n          }\n          else {\n            iVar2 = 10;\n          }\n          putchar_unlocked(iVar2);\n          _optind = _optind + 1;\nLAB_00100606:\n        } while (_optind < param_1);\n        return 0;\n      }\n      if (iVar2 != 0x7a) break;\n      bVar1 = true;\n    }\n    if (iVar2 < 0x7b) {\n      if (iVar2 == -0x83) {\nLAB_00100499:\n        uVar3 = proper_name_lite(\"Jim Meyering\",\"Jim Meyering\");\n        uVar4 = proper_name_lite(\"David MacKenzie\",\"David MacKenzie\");\n        version_etc(_stdout,\"dirname\",\"GNU coreutils\",_Version,uVar4,uVar3,0);\n                    /* WARNING: Subroutine does not return */\n        exit(0);\n      }\n      if (iVar2 == -0x82) {\n        usage(0);\n        goto LAB_00100499;\n      }\n    }\n    usage(1);\n  } while( true );\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "main",
                        "set_program_name",
                        "setlocale",
                        "bindtextdomain",
                        "textdomain",
                        "atexit",
                        "getopt_long",
                        "gettext",
                        "error",
                        "usage",
                        "dir_len",
                        "fwrite_unlocked",
                        "putchar_unlocked",
                        "proper_name_lite",
                        "version_etc",
                        "exit"
                    ],
                    "calling_functions": [
                        "main"
                    ],
                    "defined_in_file": "dirname_decompiled.c"
                }
            }
        ]
    }
}