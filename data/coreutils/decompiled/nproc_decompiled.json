{
    "file": "nproc",
    "decompiled_code": {
        "nproc.c": [
            {
                "func_name": "usage",
                "func_c_signature": "void usage(int param_1)",
                "decompiled_code": "void usage(int param_1) {\n  FILE *pFVar1;\n  undefined8 uVar2;\n  char *pcVar3;\n  \n  uVar2 = _program_name;\n  if (param_1 == 0) {\n    pcVar3 = (char *)gettext(\"Usage: %s [OPTION]...\\n\");\n    printf(pcVar3,uVar2);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\n                            \"Print the number of processing units available to the current process,\\nwhich may be less than the number of online processors\\n\\n\"\n                            );\n    fputs_unlocked(pcVar3,pFVar1);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\n                            \"      --all      print the number of installed processors\\n      --ignore=N  if possible, exclude N processing units\\n\"\n                            );\n    fputs_unlocked(pcVar3,pFVar1);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\"      --help        display this help and exit\\n\");\n    fputs_unlocked(pcVar3,pFVar1);\n    pFVar1 = _stdout;\n    pcVar3 = (char *)gettext(\"      --version     output version information and exit\\n\");\n    fputs_unlocked(pcVar3,pFVar1);\n    emit_ancillary_info(\"nproc\");\n  }\n  else {\n    pcVar3 = (char *)gettext(\"Try \\'%s --help\\' for more information.\\n\");\n    fprintf(_stderr,pcVar3,uVar2);\n  }\n                    /* WARNING: Subroutine does not return */\n  exit(param_1);\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "usage",
                        "gettext",
                        "printf",
                        "fputs_unlocked",
                        "emit_ancillary_info",
                        "fprintf",
                        "exit"
                    ],
                    "calling_functions": [
                        "usage",
                        "main"
                    ],
                    "defined_in_file": "nproc_decompiled.c"
                }
            },
            {
                "func_name": "main",
                "func_c_signature": "undefined8 main(int param_1,undefined8 *param_2)",
                "decompiled_code": "undefined8 main(int param_1,undefined8 *param_2) {\n  int iVar1;\n  undefined8 uVar2;\n  undefined8 uVar3;\n  ulong uVar4;\n  undefined4 local_40;\n  long local_30;\n  ulong local_28;\n  \n  local_28 = 0;\n  set_program_name(*param_2);\n  setlocale(6,\"\");\n  bindtextdomain(\"coreutils\",\"/usr/local/share/locale\");\n  textdomain(\"coreutils\");\n  atexit((__func *)&close_stdout);\n  local_40 = 2;\n  do {\n    while( true ) {\n      while( true ) {\n        iVar1 = getopt_long(param_1,param_2,&DAT_00100714,longopts,0);\n        if (iVar1 == -1) {\n          if (param_1 != _optind) {\n            uVar2 = quote(param_2[_optind]);\n            uVar3 = gettext(\"extra operand %s\");\n            error(0,0,uVar3,uVar2);\n            usage(1);\n          }\n          uVar4 = num_processors(local_40);\n          if (local_28 < uVar4) {\n            local_30 = uVar4 - local_28;\n          }\n          else {\n            local_30 = 1;\n          }\n          printf(\"%lu\\n\",local_30);\n          return 0;\n        }\n        if (iVar1 != 0x81) break;\n        uVar2 = gettext(\"invalid number\");\n        local_28 = xnumtoumax(_optarg,10,0,0xffffffffffffffff,&DAT_00100714,uVar2,0,2);\n      }\n      if (iVar1 < 0x82) break;\nLAB_0010052e:\n      usage(1);\n    }\n    if (iVar1 != 0x80) {\n      if (iVar1 < 0x81) {\n        if (iVar1 == -0x83) {\nLAB_00100480:\n          uVar2 = proper_name_lite(\"Giuseppe Scrivano\",\"Giuseppe Scrivano\");\n          version_etc(_stdout,\"nproc\",\"GNU coreutils\",_Version,uVar2,0);\n                    /* WARNING: Subroutine does not return */\n          exit(0);\n        }\n        if (iVar1 == -0x82) {\n          usage(0);\n          goto LAB_00100480;\n        }\n      }\n      goto LAB_0010052e;\n    }\n    local_40 = 0;\n  } while( true );\n}",
                "globals": [],
                "externs": [],
                "types": [],
                "includes": [],
                "dependencies": {
                    "called_functions": [
                        "main",
                        "set_program_name",
                        "setlocale",
                        "bindtextdomain",
                        "textdomain",
                        "atexit",
                        "getopt_long",
                        "quote",
                        "gettext",
                        "error",
                        "usage",
                        "num_processors",
                        "printf",
                        "xnumtoumax",
                        "proper_name_lite",
                        "version_etc",
                        "exit"
                    ],
                    "calling_functions": [
                        "main"
                    ],
                    "defined_in_file": "nproc_decompiled.c"
                }
            }
        ]
    }
}